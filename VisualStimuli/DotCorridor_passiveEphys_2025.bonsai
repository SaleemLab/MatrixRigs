<?xml version="1.0" encoding="utf-8"?>
<WorkflowBuilder Version="2.7.1"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xmlns:gl="clr-namespace:Bonsai.Shaders;assembly=Bonsai.Shaders"
                 xmlns:res="clr-namespace:Bonsai.Resources;assembly=Bonsai.System"
                 xmlns:wie="clr-namespace:Bonsai.Windows.Input;assembly=Bonsai.Windows.Input"
                 xmlns:rx="clr-namespace:Bonsai.Reactive;assembly=Bonsai.Core"
                 xmlns:scr="clr-namespace:Bonsai.Scripting.Expressions;assembly=Bonsai.Scripting.Expressions"
                 xmlns:dsp="clr-namespace:Bonsai.Dsp;assembly=Bonsai.Dsp"
                 xmlns:cv="clr-namespace:Bonsai.Vision;assembly=Bonsai.Vision"
                 xmlns:p1="clr-namespace:;assembly=Extensions"
                 xmlns:sys="clr-namespace:System;assembly=mscorlib"
                 xmlns:p2="clr-namespace:Bonsai.Numerics.Distributions;assembly=Bonsai.Numerics"
                 xmlns:num="clr-namespace:Bonsai.Numerics;assembly=Bonsai.Numerics"
                 xmlns:io="clr-namespace:Bonsai.IO;assembly=Bonsai.System"
                 xmlns:ffmpeg="clr-namespace:Bonsai.FFmpeg;assembly=Bonsai.FFmpeg"
                 xmlns:viz="clr-namespace:Bonsai.Design.Visualizers;assembly=Bonsai.Design.Visualizers"
                 xmlns="https://bonsai-rx.org/2018/workflow">
  <Workflow>
    <Nodes>
      <Expression xsi:type="GroupWorkflow">
        <Name>Display And Resources</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:CreateWindow">
                <gl:Width>1800</gl:Width>
                <gl:Height>800</gl:Height>
                <gl:VSync>Off</gl:VSync>
                <gl:SwapSync>false</gl:SwapSync>
                <gl:ClearColor>Gray</gl:ClearColor>
                <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                <gl:CursorVisible>false</gl:CursorVisible>
                <gl:Location xsi:nil="true" />
                <gl:WindowBorder>Hidden</gl:WindowBorder>
                <gl:WindowState>Fullscreen</gl:WindowState>
                <gl:DisplayDevice>Second</gl:DisplayDevice>
                <gl:TargetRenderFrequency>60</gl:TargetRenderFrequency>
                <gl:TargetUpdateFrequency xsi:nil="true" />
                <gl:RenderState />
                <gl:GraphicsMode>
                  <gl:ColorFormat>
                    <gl:Red>8</gl:Red>
                    <gl:Green>8</gl:Green>
                    <gl:Blue>8</gl:Blue>
                    <gl:Alpha>8</gl:Alpha>
                  </gl:ColorFormat>
                  <gl:Depth>16</gl:Depth>
                  <gl:Stencil>0</gl:Stencil>
                  <gl:Samples>0</gl:Samples>
                  <gl:AccumulatorFormat>
                    <gl:Red>0</gl:Red>
                    <gl:Green>0</gl:Green>
                    <gl:Blue>0</gl:Blue>
                    <gl:Alpha>0</gl:Alpha>
                  </gl:AccumulatorFormat>
                  <gl:Buffers>3</gl:Buffers>
                  <gl:Stereo>false</gl:Stereo>
                </gl:GraphicsMode>
              </Combinator>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.BonVisionResources.bonsai" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:TextureResources">
                <gl:Textures>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>plaid</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\plaid.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>vertGrat</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\vertGrat.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>fwn1</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\fwn1.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>fwn2</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\fwn2.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>fwn3</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\fwn3.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>fwn4</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\fwn4.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>grayEnd</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\grayEnd.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                  <gl:TextureConfiguration xsi:type="gl:ImageTexture">
                    <gl:Name>horGrat</gl:Name>
                    <gl:Width xsi:nil="true" />
                    <gl:Height xsi:nil="true" />
                    <gl:InternalFormat>Rgba</gl:InternalFormat>
                    <gl:WrapS>Repeat</gl:WrapS>
                    <gl:WrapT>Repeat</gl:WrapT>
                    <gl:MinFilter>Linear</gl:MinFilter>
                    <gl:MagFilter>Linear</gl:MagFilter>
                    <gl:FileName>Textures\horGrat.jpg</gl:FileName>
                    <gl:ColorType>Unchanged</gl:ColorType>
                    <gl:FlipMode>Vertical</gl:FlipMode>
                  </gl:TextureConfiguration>
                </gl:Textures>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:MeshResources">
                <gl:Meshes>
                  <gl:MeshConfiguration xsi:type="gl:TexturedModel">
                    <gl:Name>cube3d</gl:Name>
                    <gl:FileName>cube3d.obj</gl:FileName>
                  </gl:MeshConfiguration>
                </gl:Meshes>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:ShaderResources">
                <gl:Shaders>
                  <gl:ShaderConfiguration xsi:type="gl:Material">
                    <gl:Name>MeshMapSphere</gl:Name>
                    <gl:RenderState />
                    <gl:ShaderUniforms />
                    <gl:BufferBindings>
                      <gl:BufferBinding xsi:type="gl:TextureBinding">
                        <gl:Name>tex</gl:Name>
                        <gl:TextureSlot>Texture0</gl:TextureSlot>
                        <gl:TextureTarget>Texture2D</gl:TextureTarget>
                      </gl:BufferBinding>
                      <gl:BufferBinding xsi:type="gl:TextureBinding">
                        <gl:Name>meshMap</gl:Name>
                        <gl:TextureSlot>Texture1</gl:TextureSlot>
                        <gl:TextureTarget>Texture2D</gl:TextureTarget>
                      </gl:BufferBinding>
                    </gl:BufferBindings>
                    <gl:FramebufferAttachments />
                    <gl:VertexShader>Shaders\MeshMapSphere.vert</gl:VertexShader>
                    <gl:FragmentShader>Shaders\MeshMapSphere.frag</gl:FragmentShader>
                  </gl:ShaderConfiguration>
                  <gl:ShaderConfiguration xsi:type="gl:Material">
                    <gl:Name>MeshMapGradient</gl:Name>
                    <gl:RenderState />
                    <gl:ShaderUniforms />
                    <gl:BufferBindings />
                    <gl:FramebufferAttachments />
                    <gl:VertexShader>Shaders\MeshMapSphere.vert</gl:VertexShader>
                    <gl:FragmentShader>Shaders\gradient.frag</gl:FragmentShader>
                  </gl:ShaderConfiguration>
                  <gl:ShaderConfiguration xsi:type="gl:Material">
                    <gl:Name>MeshMapVector</gl:Name>
                    <gl:RenderState />
                    <gl:ShaderUniforms />
                    <gl:BufferBindings>
                      <gl:BufferBinding xsi:type="gl:TextureBinding">
                        <gl:Name>meshMap</gl:Name>
                        <gl:TextureSlot>Texture0</gl:TextureSlot>
                        <gl:TextureName>plaid</gl:TextureName>
                        <gl:TextureTarget>Texture2D</gl:TextureTarget>
                      </gl:BufferBinding>
                    </gl:BufferBindings>
                    <gl:FramebufferAttachments />
                    <gl:VertexShader>Shaders\MeshMapSphere.vert</gl:VertexShader>
                    <gl:FragmentShader>Shaders\vector.frag</gl:FragmentShader>
                  </gl:ShaderConfiguration>
                </gl:Shaders>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="res:LoadResources" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="wie:KeyDown">
                <wie:Filter>LButton ShiftKey ControlKey A P Q Control</wie:Filter>
                <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
              </Combinator>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>EndWorkflow</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Skip">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Sample" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:Delay">
                <gl:DueTime>PT15S</gl:DueTime>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:SampleOnRenderFrame" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:TakeUntil" />
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:UpdateFrame" />
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>DrawStimuli</Name>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>DrawQuad</Name>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="GroupWorkflow">
                <Name>Dome Render</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="gl:RenderFrame" />
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="GroupWorkflow">
                        <Name>FrameEventLoggers</Name>
                        <Workflow>
                          <Nodes>
                            <Expression xsi:type="WorkflowInput">
                              <Name>Source1</Name>
                            </Expression>
                            <Expression xsi:type="SubscribeSubject">
                              <Name>WheelName</Name>
                            </Expression>
                            <Expression xsi:type="PropertyMapping">
                              <PropertyMappings>
                                <Property Name="FileName" />
                              </PropertyMappings>
                            </Expression>
                            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                              <Name>Events</Name>
                              <Append>false</Append>
                              <Overwrite>false</Overwrite>
                              <Suffix>Timestamp</Suffix>
                              <FileName>test2_WheelLog.csv</FileName>
                            </Expression>
                            <Expression xsi:type="SubscribeSubject">
                              <Name>EyeName</Name>
                            </Expression>
                            <Expression xsi:type="PropertyMapping">
                              <PropertyMappings>
                                <Property Name="FileName" />
                              </PropertyMappings>
                            </Expression>
                            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                              <Name>EyeEvents</Name>
                              <Append>false</Append>
                              <Overwrite>false</Overwrite>
                              <Suffix>Timestamp</Suffix>
                              <FileName>test2_EyeLog.csv</FileName>
                            </Expression>
                            <Expression xsi:type="SubscribeSubject">
                              <Name>TrialName</Name>
                            </Expression>
                            <Expression xsi:type="PropertyMapping">
                              <PropertyMappings>
                                <Property Name="FileName" />
                              </PropertyMappings>
                            </Expression>
                            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                              <Name>TrialEvents</Name>
                              <Append>false</Append>
                              <Overwrite>false</Overwrite>
                              <Suffix>Timestamp</Suffix>
                              <FileName>test2_Trial.csv</FileName>
                            </Expression>
                            <Expression xsi:type="SubscribeSubject">
                              <Name>PDname</Name>
                            </Expression>
                            <Expression xsi:type="PropertyMapping">
                              <PropertyMappings>
                                <Property Name="FileName" />
                              </PropertyMappings>
                            </Expression>
                            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                              <Name>PDAsyncEvents</Name>
                              <Append>false</Append>
                              <Overwrite>false</Overwrite>
                              <Suffix>Timestamp</Suffix>
                              <FileName>test2_PDAsync.csv</FileName>
                            </Expression>
                            <Expression xsi:type="WorkflowOutput" />
                          </Nodes>
                          <Edges>
                            <Edge From="0" To="3" Label="Source1" />
                            <Edge From="1" To="2" Label="Source1" />
                            <Edge From="2" To="3" Label="Source2" />
                            <Edge From="3" To="6" Label="Source1" />
                            <Edge From="4" To="5" Label="Source1" />
                            <Edge From="5" To="6" Label="Source2" />
                            <Edge From="6" To="9" Label="Source1" />
                            <Edge From="7" To="8" Label="Source1" />
                            <Edge From="8" To="9" Label="Source2" />
                            <Edge From="9" To="12" Label="Source1" />
                            <Edge From="10" To="11" Label="Source1" />
                            <Edge From="11" To="12" Label="Source2" />
                            <Edge From="12" To="13" Label="Source1" />
                          </Edges>
                        </Workflow>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="gl:CreateCubemapCamera">
                        <gl:Eye>
                          <gl:X>0</gl:X>
                          <gl:Y>0</gl:Y>
                          <gl:Z>-100</gl:Z>
                        </gl:Eye>
                        <gl:NearClip>0.1</gl:NearClip>
                        <gl:FarClip>1000</gl:FarClip>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(
ViewMatrix as ViewMatrix,
ProjectionMatrix as ProjectionMatrix,
ViewMatrix.Row3.Yzw as Light)</scr:Expression>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>Draw3DStim</Name>
                    </Expression>
                    <Expression xsi:type="Combinator">
                      <Combinator xsi:type="gl:RenderCubemap">
                        <gl:RenderState />
                        <gl:ClearColor>Gray</gl:ClearColor>
                        <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                        <gl:FaceSize xsi:nil="true" />
                        <gl:InternalFormat>Rgb</gl:InternalFormat>
                        <gl:MinFilter>Linear</gl:MinFilter>
                        <gl:MagFilter>Linear</gl:MagFilter>
                      </Combinator>
                    </Expression>
                    <Expression xsi:type="GroupWorkflow">
                      <Name>MeshMapping</Name>
                      <Description>Renders the current scene to a texture and applies mesh mapping and brightness correction as a post-processing effect.</Description>
                      <Workflow>
                        <Nodes>
                          <Expression xsi:type="WorkflowInput">
                            <Name>Source1</Name>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="gl:BindTexture">
                              <gl:TextureSlot>Texture0</gl:TextureSlot>
                              <gl:ShaderName>MeshMapSphere</gl:ShaderName>
                              <gl:TextureTarget>TextureCubeMap</gl:TextureTarget>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Path" />
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="dsp:MatrixReader">
                              <dsp:Path>meshmap_py_minus_hires.bin</dsp:Path>
                              <dsp:Offset>0</dsp:Offset>
                              <dsp:SampleRate>10000000</dsp:SampleRate>
                              <dsp:ChannelCount>1001</dsp:ChannelCount>
                              <dsp:BufferLength>3003</dsp:BufferLength>
                              <dsp:Depth>F32</dsp:Depth>
                              <dsp:Layout>RowMajor</dsp:Layout>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="dsp:Reshape">
                              <dsp:Channels>3</dsp:Channels>
                              <dsp:Rows>0</dsp:Rows>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="cv:Flip">
                              <cv:Mode>Vertical</cv:Mode>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="gl:LatestOnUpdateFrame" />
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="gl:StoreImage">
                              <gl:InternalFormat>Rgb32f</gl:InternalFormat>
                              <gl:WrapS>Repeat</gl:WrapS>
                              <gl:WrapT>Repeat</gl:WrapT>
                              <gl:MinFilter>Linear</gl:MinFilter>
                              <gl:MagFilter>Linear</gl:MagFilter>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:WithLatestFrom" />
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Item2</Selector>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="gl:BindTexture">
                              <gl:TextureSlot>Texture1</gl:TextureSlot>
                              <gl:ShaderName>MeshMapSphere</gl:ShaderName>
                              <gl:TextureTarget>Texture2D</gl:TextureTarget>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="gl:BindTexture">
                              <gl:TextureSlot>Texture0</gl:TextureSlot>
                              <gl:ShaderName>MeshMapVector</gl:ShaderName>
                              <gl:TextureTarget>Texture2D</gl:TextureTarget>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="gl:DrawMesh">
                              <gl:ShaderName>MeshMapSphere</gl:ShaderName>
                              <gl:MeshName>ViewportQuad</gl:MeshName>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="Combinator">
                              <Combinator xsi:type="gl:DrawMesh">
                                <gl:ShaderName>MeshMapVector</gl:ShaderName>
                                <gl:MeshName>ViewportQuad</gl:MeshName>
                              </Combinator>
                            </Builder>
                          </Expression>
                          <Expression xsi:type="WorkflowOutput" />
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="Combinator">
                              <Combinator xsi:type="cv:CameraCapture">
                                <cv:Index>0</cv:Index>
                                <cv:CaptureProperties />
                              </Combinator>
                            </Builder>
                          </Expression>
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="Combinator">
                              <Combinator xsi:type="gl:StoreImage">
                                <gl:InternalFormat>Rgb32f</gl:InternalFormat>
                                <gl:WrapS>Repeat</gl:WrapS>
                                <gl:WrapT>Repeat</gl:WrapT>
                                <gl:MinFilter>Linear</gl:MinFilter>
                                <gl:MagFilter>Linear</gl:MagFilter>
                              </Combinator>
                            </Builder>
                          </Expression>
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="ExternalizedMapping">
                              <Property Name="Path" />
                            </Builder>
                          </Expression>
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="Combinator">
                              <Combinator xsi:type="dsp:MatrixReader">
                                <dsp:Path>meshmap8.bin</dsp:Path>
                                <dsp:Offset>0</dsp:Offset>
                                <dsp:SampleRate>10000000</dsp:SampleRate>
                                <dsp:ChannelCount>101</dsp:ChannelCount>
                                <dsp:BufferLength>303</dsp:BufferLength>
                                <dsp:Depth>U8</dsp:Depth>
                                <dsp:Layout>RowMajor</dsp:Layout>
                              </Combinator>
                            </Builder>
                          </Expression>
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="Combinator">
                              <Combinator xsi:type="dsp:Reshape">
                                <dsp:Channels>3</dsp:Channels>
                                <dsp:Rows>0</dsp:Rows>
                              </Combinator>
                            </Builder>
                          </Expression>
                          <Expression xsi:type="Disable">
                            <Builder xsi:type="Combinator">
                              <Combinator xsi:type="cv:ConvertToImage" />
                            </Builder>
                          </Expression>
                        </Nodes>
                        <Edges>
                          <Edge From="0" To="1" Label="Source1" />
                          <Edge From="1" To="8" Label="Source1" />
                          <Edge From="2" To="3" Label="Source1" />
                          <Edge From="3" To="4" Label="Source1" />
                          <Edge From="4" To="5" Label="Source1" />
                          <Edge From="5" To="6" Label="Source1" />
                          <Edge From="6" To="7" Label="Source1" />
                          <Edge From="7" To="8" Label="Source2" />
                          <Edge From="8" To="9" Label="Source1" />
                          <Edge From="9" To="10" Label="Source1" />
                          <Edge From="10" To="11" Label="Source1" />
                          <Edge From="11" To="12" Label="Source1" />
                          <Edge From="12" To="13" Label="Source1" />
                          <Edge From="13" To="14" Label="Source1" />
                          <Edge From="15" To="16" Label="Source1" />
                          <Edge From="17" To="18" Label="Source1" />
                          <Edge From="18" To="19" Label="Source1" />
                          <Edge From="19" To="20" Label="Source1" />
                        </Edges>
                      </Workflow>
                    </Expression>
                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
                      <ClearColor>Gray</ClearColor>
                      <GammaLut>LUT_GRB.bmp</GammaLut>
                    </Expression>
                    <Expression xsi:type="rx:BehaviorSubject">
                      <Name>Draw3DQuad</Name>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="MemberSelector">
                        <Selector>TimeStep.ElapsedRealTime</Selector>
                      </Builder>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="1" To="9" Label="Source1" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="3" To="8" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="6" To="7" Label="Source1" />
                  </Edges>
                </Workflow>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="Combinator">
                <Combinator xsi:type="gl:RenderFrame" />
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="GroupWorkflow">
                <Name>FrameEventLoggers</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="WorkflowInput">
                      <Name>Source1</Name>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>WheelName</Name>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                      <Name>Events</Name>
                      <Append>false</Append>
                      <Overwrite>false</Overwrite>
                      <Suffix>Timestamp</Suffix>
                      <FileName>M99999_SDTraining_WheelLog.csv</FileName>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>EyeName</Name>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                      <Name>EyeEvents</Name>
                      <Append>false</Append>
                      <Overwrite>false</Overwrite>
                      <Suffix>Timestamp</Suffix>
                      <FileName>M99999_SDTraining_EyeLog.csv</FileName>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>TrialName</Name>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                      <Name>TrialEvents</Name>
                      <Append>false</Append>
                      <Overwrite>false</Overwrite>
                      <Suffix>Timestamp</Suffix>
                      <FileName>M99999_SDTraining_Trial.csv</FileName>
                    </Expression>
                    <Expression xsi:type="SubscribeSubject">
                      <Name>PDname</Name>
                    </Expression>
                    <Expression xsi:type="PropertyMapping">
                      <PropertyMappings>
                        <Property Name="FileName" />
                      </PropertyMappings>
                    </Expression>
                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.FrameEventLogger.bonsai">
                      <Name>PDAsyncEvents</Name>
                      <Append>false</Append>
                      <Overwrite>false</Overwrite>
                      <Suffix>Timestamp</Suffix>
                      <FileName>M99999_SDTraining_PDAsync.csv</FileName>
                    </Expression>
                    <Expression xsi:type="WorkflowOutput" />
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="3" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source2" />
                    <Edge From="3" To="6" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source2" />
                    <Edge From="6" To="9" Label="Source1" />
                    <Edge From="7" To="8" Label="Source1" />
                    <Edge From="8" To="9" Label="Source2" />
                    <Edge From="9" To="12" Label="Source1" />
                    <Edge From="10" To="11" Label="Source1" />
                    <Edge From="11" To="12" Label="Source2" />
                    <Edge From="12" To="13" Label="Source1" />
                  </Edges>
                </Workflow>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="Combinator">
                <Combinator xsi:type="gl:CreateCubemapCamera">
                  <gl:Eye>
                    <gl:X>0</gl:X>
                    <gl:Y>0</gl:Y>
                    <gl:Z>0</gl:Z>
                  </gl:Eye>
                  <gl:NearClip>0.1</gl:NearClip>
                  <gl:FarClip>1000</gl:FarClip>
                </Combinator>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="scr:ExpressionTransform">
                <scr:Expression>new(
ViewMatrix as ViewMatrix,
ProjectionMatrix as ProjectionMatrix,
ViewMatrix.Row3.Yzw as Light)</scr:Expression>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="rx:BehaviorSubject">
                <Name>Draw3DStim</Name>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="Combinator">
                <Combinator xsi:type="gl:RenderCubemap">
                  <gl:RenderState />
                  <gl:ClearColor>Gray</gl:ClearColor>
                  <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                  <gl:FaceSize xsi:nil="true" />
                  <gl:InternalFormat>Rgb</gl:InternalFormat>
                  <gl:MinFilter>Linear</gl:MinFilter>
                  <gl:MagFilter>Linear</gl:MagFilter>
                </Combinator>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
                <ClearColor>Gray</ClearColor>
                <GammaLut>LUT_GRB.bmp</GammaLut>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="rx:BehaviorSubject">
                <Name>Draw3DQuad</Name>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="MemberSelector">
                <Selector>TimeStep.ElapsedRealTime</Selector>
              </Builder>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:RenderFrame" />
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.CubemapView.bonsai">
              <Eye>
                <X>0</X>
                <Y>0</Y>
                <Z>-100</Z>
              </Eye>
              <NearClip>0.1</NearClip>
              <FarClip>10000</FarClip>
              <Light>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
              </Light>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Draw3DStim</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:RenderCubemap">
                <gl:RenderState />
                <gl:ClearColor>Gray</gl:ClearColor>
                <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                <gl:FaceSize xsi:nil="true" />
                <gl:InternalFormat>Rgb</gl:InternalFormat>
                <gl:MinFilter>Linear</gl:MinFilter>
                <gl:MagFilter>Linear</gl:MagFilter>
              </Combinator>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.ViewWindow.bonsai">
              <Width>15</Width>
              <Height>19.5</Height>
              <Rotation>
                <X>0</X>
                <Y>60.000001669652114</Y>
                <Z>0</Z>
              </Rotation>
              <Translation>
                <X>-12</X>
                <Y>0</Y>
                <Z>-9</Z>
              </Translation>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
              <ClearColor>Gray</ClearColor>
              <GammaLut>LUT_GRB.bmp</GammaLut>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.DrawViewport.bonsai">
              <X>0</X>
              <Y>0</Y>
              <Width>0.333</Width>
              <Height>1</Height>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:UpdateRenderState">
                <gl:RenderState>
                  <gl:StateConfiguration xsi:type="gl:ViewportState">
                    <gl:X>0</gl:X>
                    <gl:Y>0</gl:Y>
                    <gl:Width>0.333</gl:Width>
                    <gl:Height>1</gl:Height>
                  </gl:StateConfiguration>
                </gl:RenderState>
              </Combinator>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.ViewWindow.bonsai">
              <Width>15</Width>
              <Height>19.5</Height>
              <Rotation>
                <X>0</X>
                <Y>0</Y>
                <Z>0</Z>
              </Rotation>
              <Translation>
                <X>0</X>
                <Y>0</Y>
                <Z>-15</Z>
              </Translation>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
              <ClearColor>Gray</ClearColor>
              <GammaLut>LUT_GRB.bmp</GammaLut>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.DrawViewport.bonsai">
              <X>0.333</X>
              <Y>0</Y>
              <Width>0.333</Width>
              <Height>1</Height>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:UpdateRenderState">
                <gl:RenderState>
                  <gl:StateConfiguration xsi:type="gl:ViewportState">
                    <gl:X>0.333</gl:X>
                    <gl:Y>0</gl:Y>
                    <gl:Width>0.333</gl:Width>
                    <gl:Height>1</gl:Height>
                  </gl:StateConfiguration>
                </gl:RenderState>
              </Combinator>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.ViewWindow.bonsai">
              <Width>15</Width>
              <Height>19.5</Height>
              <Rotation>
                <X>0</X>
                <Y>-60.000001669652114</Y>
                <Z>0</Z>
              </Rotation>
              <Translation>
                <X>12</X>
                <Y>0</Y>
                <Z>-9</Z>
              </Translation>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.GammaCorrection.bonsai">
              <ClearColor>Gray</ClearColor>
              <GammaLut>LUT_GRB.bmp</GammaLut>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.DrawViewport.bonsai">
              <X>0.665</X>
              <Y>0</Y>
              <Width>0.333</Width>
              <Height>1</Height>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="gl:UpdateRenderState">
                <gl:RenderState>
                  <gl:StateConfiguration xsi:type="gl:ViewportState">
                    <gl:X>0.665</gl:X>
                    <gl:Y>0</gl:Y>
                    <gl:Width>0.333</gl:Width>
                    <gl:Height>1</gl:Height>
                  </gl:StateConfiguration>
                </gl:RenderState>
              </Combinator>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>TimeStep.ElapsedRealTime</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:ElementIndex" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Index</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RenderFrameCount</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="12" Label="Source1" />
            <Edge From="6" To="9" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source2" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source2" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="14" To="16" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="19" To="26" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="21" To="25" Label="Source1" />
            <Edge From="22" To="23" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="27" To="28" Label="Source1" />
            <Edge From="27" To="43" Label="Source1" />
            <Edge From="27" To="44" Label="Source1" />
            <Edge From="28" To="29" Label="Source1" />
            <Edge From="29" To="30" Label="Source1" />
            <Edge From="30" To="31" Label="Source1" />
            <Edge From="30" To="35" Label="Source1" />
            <Edge From="30" To="39" Label="Source1" />
            <Edge From="31" To="32" Label="Source1" />
            <Edge From="32" To="33" Label="Source1" />
            <Edge From="33" To="34" Label="Source1" />
            <Edge From="35" To="36" Label="Source1" />
            <Edge From="36" To="37" Label="Source1" />
            <Edge From="37" To="38" Label="Source1" />
            <Edge From="39" To="40" Label="Source1" />
            <Edge From="40" To="41" Label="Source1" />
            <Edge From="41" To="42" Label="Source1" />
            <Edge From="44" To="45" Label="Source1" />
            <Edge From="45" To="46" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="WorkflowInput">
        <Name>Source1</Name>
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="StimulusID" />
        <Property Name="MouseID" />
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="TrialClassPostStimTime" />
        <Property Name="3dMotionCorrection" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Task</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="WorkflowInput">
              <Name>Source1</Name>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Standard Trial Settings</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>s2d25</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:SpeedDiscSpecification2">
                            <p1:Trials>
                              <p1:SpeedDiscParameters2>
                                <p1:Duration>2</p1:Duration>
                                <p1:Size>4.6542</p1:Size>
                                <p1:Colour1>0</p1:Colour1>
                                <p1:Colour2>1</p1:Colour2>
                                <p1:numDots1>476</p1:numDots1>
                                <p1:numDots2>476</p1:numDots2>
                                <p1:dotLifeBool>0</p1:dotLifeBool>
                                <p1:dotLifetime>200</p1:dotLifetime>
                                <p1:Contrast>1</p1:Contrast>
                                <p1:VelocityXLeft>0</p1:VelocityXLeft>
                                <p1:VelocityYLeft>0</p1:VelocityYLeft>
                                <p1:CoherenceLeft>100</p1:CoherenceLeft>
                                <p1:VelocityXRight>0</p1:VelocityXRight>
                                <p1:VelocityYRight>0</p1:VelocityYRight>
                                <p1:CoherenceRight>100</p1:CoherenceRight>
                                <p1:transXLeft>-100</p1:transXLeft>
                                <p1:transXRight>100</p1:transXRight>
                              </p1:SpeedDiscParameters2>
                            </p1:Trials>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>EnsureSpeedDiscParameters</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:ElementIndex" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Index</Selector>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.Duration</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="DotSize" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="Colour1" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="Colour2" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="numDots1" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="numDots2" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="dotLifeBool" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="dotLifetime" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="Contrast" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="VelXleft" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="VelYleft" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="CohLeft" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="VelXright" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="VelYright" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="CohRight" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="Duration" />
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.Size</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.Colour1</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.Colour2</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.numDots1</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.numDots2</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.dotLifeBool</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.dotLifetime</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.Contrast</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.VelocityXLeft</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.VelocityYLeft</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.CoherenceLeft</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.VelocityXRight</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.VelocityYRight</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.CoherenceRight</Selector>
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.transXLeft</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="transXL" />
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Value.transXRight</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="transXR" />
                              </Expression>
                              <Expression xsi:type="GetValueOrDefault">
                                <Operand xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,
Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast,
Item3.Item1 as VelXLeft,
Item3.Item2 as VelYLeft,
Item3.Item3 as CohLeft,
Item3.Item4 as VelXRight,
Item3.Item5 as VelYRight,
Item3.Item6 as CohRight,
Item4.Item1 as transXL,
Item4.Item2 as transXR)</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="1" To="20" Label="Source1" />
                              <Edge From="1" To="22" Label="Source1" />
                              <Edge From="1" To="24" Label="Source1" />
                              <Edge From="1" To="26" Label="Source1" />
                              <Edge From="1" To="28" Label="Source1" />
                              <Edge From="1" To="31" Label="Source1" />
                              <Edge From="1" To="33" Label="Source1" />
                              <Edge From="1" To="35" Label="Source1" />
                              <Edge From="1" To="38" Label="Source1" />
                              <Edge From="1" To="40" Label="Source1" />
                              <Edge From="1" To="42" Label="Source1" />
                              <Edge From="1" To="44" Label="Source1" />
                              <Edge From="1" To="46" Label="Source1" />
                              <Edge From="1" To="48" Label="Source1" />
                              <Edge From="1" To="51" Label="Source1" />
                              <Edge From="1" To="54" Label="Source1" />
                              <Edge From="2" To="30" Label="Source1" />
                              <Edge From="3" To="19" Label="Source1" />
                              <Edge From="4" To="21" Label="Source2" />
                              <Edge From="5" To="23" Label="Source2" />
                              <Edge From="6" To="25" Label="Source2" />
                              <Edge From="7" To="27" Label="Source2" />
                              <Edge From="8" To="29" Label="Source2" />
                              <Edge From="9" To="32" Label="Source2" />
                              <Edge From="10" To="34" Label="Source2" />
                              <Edge From="11" To="36" Label="Source2" />
                              <Edge From="12" To="39" Label="Source2" />
                              <Edge From="13" To="41" Label="Source2" />
                              <Edge From="14" To="43" Label="Source2" />
                              <Edge From="15" To="45" Label="Source2" />
                              <Edge From="16" To="47" Label="Source2" />
                              <Edge From="17" To="49" Label="Source2" />
                              <Edge From="18" To="19" Label="Source2" />
                              <Edge From="19" To="30" Label="Source2" />
                              <Edge From="20" To="21" Label="Source1" />
                              <Edge From="21" To="30" Label="Source3" />
                              <Edge From="22" To="23" Label="Source1" />
                              <Edge From="23" To="30" Label="Source4" />
                              <Edge From="24" To="25" Label="Source1" />
                              <Edge From="25" To="30" Label="Source5" />
                              <Edge From="26" To="27" Label="Source1" />
                              <Edge From="27" To="30" Label="Source6" />
                              <Edge From="28" To="29" Label="Source1" />
                              <Edge From="29" To="30" Label="Source7" />
                              <Edge From="30" To="58" Label="Source1" />
                              <Edge From="31" To="32" Label="Source1" />
                              <Edge From="32" To="37" Label="Source1" />
                              <Edge From="33" To="34" Label="Source1" />
                              <Edge From="34" To="37" Label="Source2" />
                              <Edge From="35" To="36" Label="Source1" />
                              <Edge From="36" To="37" Label="Source3" />
                              <Edge From="37" To="58" Label="Source2" />
                              <Edge From="38" To="39" Label="Source1" />
                              <Edge From="39" To="50" Label="Source1" />
                              <Edge From="40" To="41" Label="Source1" />
                              <Edge From="41" To="50" Label="Source2" />
                              <Edge From="42" To="43" Label="Source1" />
                              <Edge From="43" To="50" Label="Source3" />
                              <Edge From="44" To="45" Label="Source1" />
                              <Edge From="45" To="50" Label="Source4" />
                              <Edge From="46" To="47" Label="Source1" />
                              <Edge From="47" To="50" Label="Source5" />
                              <Edge From="48" To="49" Label="Source1" />
                              <Edge From="49" To="50" Label="Source6" />
                              <Edge From="50" To="58" Label="Source3" />
                              <Edge From="51" To="53" Label="Source1" />
                              <Edge From="52" To="53" Label="Source2" />
                              <Edge From="53" To="57" Label="Source1" />
                              <Edge From="54" To="56" Label="Source1" />
                              <Edge From="55" To="56" Label="Source2" />
                              <Edge From="56" To="57" Label="Source2" />
                              <Edge From="57" To="58" Label="Source4" />
                              <Edge From="58" To="59" Label="Source1" />
                              <Edge From="59" To="60" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source3" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="3dMotionCorrection" />
              <Property Name="TrialClassPostStimTime" />
            </Expression>
            <Expression xsi:type="rx:CreateObservable">
              <Name>CreateTrial</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Parameters</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>GetStimParams</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>IfNotPause</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PauseFlag</Name>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Unit" />
                        <Expression xsi:type="SubscribeSubject">
                          <Name>ProbDistArray</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="ProbabilityDistributions" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>CurrentState</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>EnsureCorrectStateIndex</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>nStates</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:CombineLatest" />
                              </Expression>
                              <Expression xsi:type="LessThan" />
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="DistributionIndex" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:RandSampleFromIndexedDistribution">
                            <p1:ProbabilityDistributions>
                              <p1:ArrayOfFloat>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>0</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>0</p1:float>
                                <p1:float>0</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                                <p1:float>6.25</p1:float>
                              </p1:ArrayOfFloat>
                              <p1:ArrayOfFloat>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                                <p1:float>5.263158</p1:float>
                              </p1:ArrayOfFloat>
                            </p1:ProbabilityDistributions>
                            <p1:DistributionIndex>0</p1:DistributionIndex>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:BehaviorSubject">
                          <Name>CurrentStimIndex</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Parameters</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Contrast</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>Item1 == 18 ? 0 :
Item2</scr:Expression>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>IfNotPause</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PauseFlag</Name>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>GetSpeeds</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>it == 0 ? 32 :
it == 1 ? 32 :
it == 2 ? 32 :
it == 3 ? 32 :
it == 4 ? 32 :
it == 5 ? 32 :
it == 6 ? 32 :
it == 7 ? 32 :
it == 8 ? 32 :
it == 9 ? 128 :
it == 10 ? 128 :
it == 11 ? 128 :
it == 12 ? 128 :
it == 13 ? 128 :
it == 14 ? 128 :
it == 15 ? 128 :
it == 16 ? 128 :
it == 17 ? 128 :
it == 18 ? 0 : 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Convert.ToSingle(it)</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>it.Item1 == 0 ? it.Item2*0.125 :
it.Item1 == 1 ? it.Item2*0.25 :
it.Item1 == 2 ? it.Item2*0.5 :
it.Item1 == 3 ? it.Item2*0.75 :
it.Item1 == 4 ? it.Item2*1 :
it.Item1 == 5 ? it.Item2*1.3333 :
it.Item1 == 6 ? it.Item2*2 :
it.Item1 == 7 ? it.Item2*4 :
it.Item1 == 8 ? it.Item2*8 :
it.Item1 == 9 ? it.Item2*0.125 :
it.Item1 == 10 ? it.Item2*0.25 :
it.Item1 == 11 ? it.Item2*0.5 :
it.Item1 == 12 ? it.Item2*0.75 :
it.Item1 == 13 ? it.Item2*1  :
it.Item1 == 14 ? it.Item2*1.333 :
it.Item1 == 15 ? it.Item2*2 :
it.Item1 == 16 ? it.Item2*4 :
it.Item1 == 17 ? it.Item2*8 :
it.Item1 == 18 ? 0 : 0</scr:Expression>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>Convert.ToSingle(it)</scr:Expression>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="3" Label="Source1" />
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="2" To="6" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>IfNotPause</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PauseFlag</Name>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="rx:Condition">
                          <Name>IfPause</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>PauseFlag</Name>
                              </Expression>
                              <Expression xsi:type="Equal">
                                <Operand xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Operand>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="rx:BehaviorSubject">
                          <Name>Contrast</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="19" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="10" Label="Source3" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="10" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="11" Label="Source1" />
                        <Edge From="11" To="14" Label="Source1" />
                        <Edge From="11" To="17" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                        <Edge From="13" To="14" Label="Source2" />
                        <Edge From="14" To="15" Label="Source1" />
                        <Edge From="15" To="16" Label="Source1" />
                        <Edge From="16" To="21" Label="Source1" />
                        <Edge From="17" To="18" Label="Source1" />
                        <Edge From="18" To="26" Label="Source1" />
                        <Edge From="19" To="20" Label="Source1" />
                        <Edge From="19" To="23" Label="Source1" />
                        <Edge From="19" To="24" Label="Source1" />
                        <Edge From="20" To="21" Label="Source2" />
                        <Edge From="21" To="22" Label="Source1" />
                        <Edge From="23" To="25" Label="Source2" />
                        <Edge From="24" To="25" Label="Source1" />
                        <Edge From="25" To="26" Label="Source2" />
                        <Edge From="26" To="27" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="3dMotionCorrection" />
                    <Property Name="TrialClassPostStimTime" />
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>ThisTrial</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="3dMotionCorrection" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>DotTextures</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>EndStimulus</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="3dMotionCorrection" />
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>CreateTextures</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="Diameter" Selector="Size" />
                                        <Property Name="dotLifetime" Selector="dotLifetime" />
                                        <Property Name="dotLifetimeBool" Selector="dotLifeBool" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Borders</Name>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="Top" Selector="Item1" />
                                        <Property Name="Bottom" Selector="Item2" />
                                        <Property Name="Left" Selector="Item3" />
                                        <Property Name="Right" Selector="Item4" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>DrawStimuli</Name>
                                    </Expression>
                                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Environment.OrthographicView.bonsai">
                                      <Left>-360</Left>
                                      <Right>360</Right>
                                      <Bottom>-90</Bottom>
                                      <Top>90</Top>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:UpdateFrame" />
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>TimeStep.ElapsedTime</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>VelYLeft</Selector>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CohLeft</Selector>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="Coherence" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>CohRight</Selector>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="Coherence" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>VelYRight</Selector>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Contrast</Name>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="ColorA" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Multiply" />
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2</Selector>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="3dMotionCorrection" />
                                    </Expression>
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3.4907</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>-1</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="VelX" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Multiply" />
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3.4907</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>-1</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="VelX" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Multiply" />
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3.4907</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="VelY" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Multiply" />
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3.4907</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="Multiply">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>0</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="VelY" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>MovingDots_SpeedDiscrim</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="ColorA" />
                                            <Property Name="Diameter" />
                                            <Property Name="Coherence" />
                                            <Property Name="dotLifetime" />
                                            <Property Name="dotLifetimeBool" />
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Parameters</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>numDots1</Selector>
                                          </Expression>
                                          <Expression xsi:type="Divide">
                                            <Operand xsi:type="FloatProperty">
                                              <Value>2</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="numDots" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Parameters</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>numDots2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Divide">
                                            <Operand xsi:type="FloatProperty">
                                              <Value>2</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="numDots" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="VelX" />
                                            <Property Name="VelY" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed1" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed2" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed3" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed4" />
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>MotionDelay</Name>
                                          </Expression>
                                          <Expression xsi:type="scr:ExpressionTransform">
                                            <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="MotionDelay" Selector="it" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingBlackDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-7.44682646</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Z" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>0</gl:X>
                                                    <gl:Y>0</gl:Y>
                                                    <gl:Z>0</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>0</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="StringProperty">
                                                    <Value>dotsMOVE</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.LogEvent.bonsai">
                                                  <Format xsi:nil="true" />
                                                  <Selector xsi:nil="true" />
                                                  <Name>Events</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MulticastSubject">
                                                  <Name>QuadState</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="31" Label="Source2" />
                                                <Edge From="2" To="31" Label="Source3" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="4" To="30" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="6" To="55" Label="Source5" />
                                                <Edge From="6" To="57" Label="Source2" />
                                                <Edge From="7" To="8" Label="Source1" />
                                                <Edge From="8" To="37" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="9" To="55" Label="Source6" />
                                                <Edge From="10" To="37" Label="Source2" />
                                                <Edge From="10" To="38" Label="Source2" />
                                                <Edge From="11" To="55" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source1" />
                                                <Edge From="13" To="14" Label="Source1" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="44" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="18" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="52" Label="Source1" />
                                                <Edge From="20" To="45" Label="Source2" />
                                                <Edge From="20" To="53" Label="Source2" />
                                                <Edge From="21" To="30" Label="Source2" />
                                                <Edge From="22" To="30" Label="Source3" />
                                                <Edge From="23" To="31" Label="Source4" />
                                                <Edge From="24" To="25" Label="Source1" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="31" Label="Source5" />
                                                <Edge From="27" To="28" Label="Source1" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source4" />
                                                <Edge From="30" To="31" Label="Source1" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="41" Label="Source2" />
                                                <Edge From="32" To="40" Label="Source2" />
                                                <Edge From="33" To="55" Label="Source4" />
                                                <Edge From="34" To="35" Label="Source1" />
                                                <Edge From="35" To="45" Label="Source3" />
                                                <Edge From="35" To="53" Label="Source3" />
                                                <Edge From="36" To="37" Label="Source3" />
                                                <Edge From="37" To="39" Label="Source1" />
                                                <Edge From="38" To="39" Label="Source2" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="55" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="52" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="44" To="47" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="55" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="48" To="50" Label="Source1" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                                <Edge From="54" To="55" Label="Source3" />
                                                <Edge From="55" To="56" Label="Source1" />
                                                <Edge From="56" To="57" Label="Source1" />
                                                <Edge From="57" To="58" Label="Source1" />
                                                <Edge From="58" To="59" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingWhiteDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Z" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-7.44682646</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>1</gl:X>
                                                    <gl:Y>1</gl:Y>
                                                    <gl:Z>1</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>1</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="0" To="3" Label="Source1" />
                                                <Edge From="1" To="32" Label="Source2" />
                                                <Edge From="2" To="32" Label="Source3" />
                                                <Edge From="3" To="32" Label="Source4" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="31" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="50" Label="Source5" />
                                                <Edge From="7" To="52" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="10" To="13" Label="Source1" />
                                                <Edge From="10" To="50" Label="Source6" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source2" />
                                                <Edge From="12" To="38" Label="Source2" />
                                                <Edge From="13" To="39" Label="Source2" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="16" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="44" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="20" Label="Source1" />
                                                <Edge From="20" To="21" Label="Source1" />
                                                <Edge From="21" To="47" Label="Source1" />
                                                <Edge From="22" To="48" Label="Source2" />
                                                <Edge From="22" To="45" Label="Source2" />
                                                <Edge From="23" To="31" Label="Source2" />
                                                <Edge From="24" To="31" Label="Source3" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="27" Label="Source1" />
                                                <Edge From="27" To="32" Label="Source5" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source1" />
                                                <Edge From="30" To="31" Label="Source4" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="33" Label="Source1" />
                                                <Edge From="33" To="41" Label="Source2" />
                                                <Edge From="33" To="40" Label="Source2" />
                                                <Edge From="34" To="50" Label="Source4" />
                                                <Edge From="35" To="36" Label="Source1" />
                                                <Edge From="36" To="45" Label="Source3" />
                                                <Edge From="36" To="48" Label="Source3" />
                                                <Edge From="37" To="38" Label="Source3" />
                                                <Edge From="38" To="39" Label="Source1" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingWhiteDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Z" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-7.44682646</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>1</gl:X>
                                                    <gl:Y>1</gl:Y>
                                                    <gl:Z>1</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>2</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="0" To="3" Label="Source1" />
                                                <Edge From="1" To="32" Label="Source2" />
                                                <Edge From="2" To="32" Label="Source3" />
                                                <Edge From="3" To="32" Label="Source4" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="31" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="50" Label="Source5" />
                                                <Edge From="7" To="52" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="10" To="13" Label="Source1" />
                                                <Edge From="10" To="50" Label="Source6" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source2" />
                                                <Edge From="12" To="38" Label="Source2" />
                                                <Edge From="13" To="39" Label="Source2" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="16" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="44" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="20" Label="Source1" />
                                                <Edge From="20" To="21" Label="Source1" />
                                                <Edge From="21" To="47" Label="Source1" />
                                                <Edge From="22" To="48" Label="Source2" />
                                                <Edge From="22" To="45" Label="Source2" />
                                                <Edge From="23" To="31" Label="Source2" />
                                                <Edge From="24" To="31" Label="Source3" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="27" Label="Source1" />
                                                <Edge From="27" To="32" Label="Source5" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source1" />
                                                <Edge From="30" To="31" Label="Source4" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="33" Label="Source1" />
                                                <Edge From="33" To="41" Label="Source2" />
                                                <Edge From="33" To="40" Label="Source2" />
                                                <Edge From="34" To="50" Label="Source4" />
                                                <Edge From="35" To="36" Label="Source1" />
                                                <Edge From="36" To="45" Label="Source3" />
                                                <Edge From="36" To="48" Label="Source3" />
                                                <Edge From="37" To="38" Label="Source3" />
                                                <Edge From="38" To="39" Label="Source1" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingBlackDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-7.44682646</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Z" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>0</gl:X>
                                                    <gl:Y>0</gl:Y>
                                                    <gl:Z>0</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>3</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="31" Label="Source2" />
                                                <Edge From="2" To="31" Label="Source3" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="4" To="30" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="6" To="50" Label="Source5" />
                                                <Edge From="6" To="52" Label="Source2" />
                                                <Edge From="7" To="8" Label="Source1" />
                                                <Edge From="8" To="37" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="9" To="50" Label="Source6" />
                                                <Edge From="10" To="37" Label="Source2" />
                                                <Edge From="10" To="38" Label="Source2" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source1" />
                                                <Edge From="13" To="14" Label="Source1" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="44" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="18" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="47" Label="Source1" />
                                                <Edge From="20" To="45" Label="Source2" />
                                                <Edge From="20" To="48" Label="Source2" />
                                                <Edge From="21" To="30" Label="Source2" />
                                                <Edge From="22" To="30" Label="Source3" />
                                                <Edge From="23" To="31" Label="Source4" />
                                                <Edge From="24" To="25" Label="Source1" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="31" Label="Source5" />
                                                <Edge From="27" To="28" Label="Source1" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source4" />
                                                <Edge From="30" To="31" Label="Source1" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="41" Label="Source2" />
                                                <Edge From="32" To="40" Label="Source2" />
                                                <Edge From="33" To="50" Label="Source4" />
                                                <Edge From="34" To="35" Label="Source1" />
                                                <Edge From="35" To="45" Label="Source3" />
                                                <Edge From="35" To="48" Label="Source3" />
                                                <Edge From="36" To="37" Label="Source3" />
                                                <Edge From="37" To="39" Label="Source1" />
                                                <Edge From="38" To="39" Label="Source2" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Zip" />
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="18" Label="Source1" />
                                          <Edge From="0" To="19" Label="Source1" />
                                          <Edge From="0" To="20" Label="Source1" />
                                          <Edge From="0" To="21" Label="Source1" />
                                          <Edge From="1" To="21" Label="Source2" />
                                          <Edge From="1" To="20" Label="Source2" />
                                          <Edge From="1" To="19" Label="Source2" />
                                          <Edge From="1" To="18" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="18" Label="Source3" />
                                          <Edge From="5" To="21" Label="Source3" />
                                          <Edge From="6" To="7" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source1" />
                                          <Edge From="9" To="20" Label="Source3" />
                                          <Edge From="9" To="19" Label="Source3" />
                                          <Edge From="10" To="18" Label="Source4" />
                                          <Edge From="10" To="21" Label="Source4" />
                                          <Edge From="10" To="20" Label="Source4" />
                                          <Edge From="10" To="19" Label="Source4" />
                                          <Edge From="11" To="18" Label="Source5" />
                                          <Edge From="12" To="19" Label="Source5" />
                                          <Edge From="13" To="20" Label="Source5" />
                                          <Edge From="14" To="21" Label="Source5" />
                                          <Edge From="15" To="16" Label="Source1" />
                                          <Edge From="16" To="17" Label="Source1" />
                                          <Edge From="17" To="18" Label="Source6" />
                                          <Edge From="17" To="19" Label="Source6" />
                                          <Edge From="17" To="20" Label="Source6" />
                                          <Edge From="17" To="21" Label="Source6" />
                                          <Edge From="18" To="22" Label="Source1" />
                                          <Edge From="19" To="22" Label="Source2" />
                                          <Edge From="20" To="22" Label="Source3" />
                                          <Edge From="21" To="22" Label="Source4" />
                                          <Edge From="22" To="23" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:RenderTexture">
                                        <gl:RenderState />
                                        <gl:ClearColor>Gray</gl:ClearColor>
                                        <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                                        <gl:Width xsi:nil="true" />
                                        <gl:Height xsi:nil="true" />
                                        <gl:InternalFormat>Rgba</gl:InternalFormat>
                                        <gl:WrapS>Repeat</gl:WrapS>
                                        <gl:WrapT>Repeat</gl:WrapT>
                                        <gl:MinFilter>Linear</gl:MinFilter>
                                        <gl:MagFilter>Linear</gl:MagFilter>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="rx:BehaviorSubject">
                                      <Name>TextureLeft</Name>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>MovingDots_SpeedDiscrim</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="ColorA" />
                                            <Property Name="Diameter" />
                                            <Property Name="Coherence" />
                                            <Property Name="dotLifetime" />
                                            <Property Name="dotLifetimeBool" />
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Parameters</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>numDots1</Selector>
                                          </Expression>
                                          <Expression xsi:type="Divide">
                                            <Operand xsi:type="FloatProperty">
                                              <Value>2</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="numDots" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Parameters</Name>
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>numDots2</Selector>
                                          </Expression>
                                          <Expression xsi:type="Divide">
                                            <Operand xsi:type="FloatProperty">
                                              <Value>2</Value>
                                            </Operand>
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="numDots" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="VelX" />
                                            <Property Name="VelY" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed1" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed2" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed3" />
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="rndseed" DisplayName="rndSeed4" />
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>MotionDelay</Name>
                                          </Expression>
                                          <Expression xsi:type="scr:ExpressionTransform">
                                            <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                                          </Expression>
                                          <Expression xsi:type="PropertyMapping">
                                            <PropertyMappings>
                                              <Property Name="MotionDelay" Selector="it" />
                                            </PropertyMappings>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingBlackDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-9.92662</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Z" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>0</gl:X>
                                                    <gl:Y>0</gl:Y>
                                                    <gl:Z>0</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>0</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="31" Label="Source2" />
                                                <Edge From="2" To="31" Label="Source3" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="4" To="30" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="6" To="50" Label="Source5" />
                                                <Edge From="6" To="52" Label="Source2" />
                                                <Edge From="7" To="8" Label="Source1" />
                                                <Edge From="8" To="37" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="9" To="50" Label="Source6" />
                                                <Edge From="10" To="37" Label="Source2" />
                                                <Edge From="10" To="38" Label="Source2" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source1" />
                                                <Edge From="13" To="14" Label="Source1" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="44" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="18" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="47" Label="Source1" />
                                                <Edge From="20" To="45" Label="Source2" />
                                                <Edge From="20" To="48" Label="Source2" />
                                                <Edge From="21" To="30" Label="Source2" />
                                                <Edge From="22" To="30" Label="Source3" />
                                                <Edge From="23" To="31" Label="Source4" />
                                                <Edge From="24" To="25" Label="Source1" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="31" Label="Source5" />
                                                <Edge From="27" To="28" Label="Source1" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source4" />
                                                <Edge From="30" To="31" Label="Source1" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="41" Label="Source2" />
                                                <Edge From="32" To="40" Label="Source2" />
                                                <Edge From="33" To="50" Label="Source4" />
                                                <Edge From="34" To="35" Label="Source1" />
                                                <Edge From="35" To="45" Label="Source3" />
                                                <Edge From="35" To="48" Label="Source3" />
                                                <Edge From="36" To="37" Label="Source3" />
                                                <Edge From="37" To="39" Label="Source1" />
                                                <Edge From="38" To="39" Label="Source2" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingWhiteDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Z" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-9.92662</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>1</gl:X>
                                                    <gl:Y>1</gl:Y>
                                                    <gl:Z>1</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>1</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="0" To="3" Label="Source1" />
                                                <Edge From="1" To="32" Label="Source2" />
                                                <Edge From="2" To="32" Label="Source3" />
                                                <Edge From="3" To="32" Label="Source4" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="31" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="50" Label="Source5" />
                                                <Edge From="7" To="52" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="10" To="13" Label="Source1" />
                                                <Edge From="10" To="50" Label="Source6" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source2" />
                                                <Edge From="12" To="38" Label="Source2" />
                                                <Edge From="13" To="39" Label="Source2" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="16" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="44" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="20" Label="Source1" />
                                                <Edge From="20" To="21" Label="Source1" />
                                                <Edge From="21" To="47" Label="Source1" />
                                                <Edge From="22" To="48" Label="Source2" />
                                                <Edge From="22" To="45" Label="Source2" />
                                                <Edge From="23" To="31" Label="Source2" />
                                                <Edge From="24" To="31" Label="Source3" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="27" Label="Source1" />
                                                <Edge From="27" To="32" Label="Source5" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source1" />
                                                <Edge From="30" To="31" Label="Source4" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="33" Label="Source1" />
                                                <Edge From="33" To="41" Label="Source2" />
                                                <Edge From="33" To="40" Label="Source2" />
                                                <Edge From="34" To="50" Label="Source4" />
                                                <Edge From="35" To="36" Label="Source1" />
                                                <Edge From="36" To="45" Label="Source3" />
                                                <Edge From="36" To="48" Label="Source3" />
                                                <Edge From="37" To="38" Label="Source3" />
                                                <Edge From="38" To="39" Label="Source1" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingWhiteDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Z" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-9.92662</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>1</gl:X>
                                                    <gl:Y>1</gl:Y>
                                                    <gl:Z>1</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>2</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="0" To="3" Label="Source1" />
                                                <Edge From="1" To="32" Label="Source2" />
                                                <Edge From="2" To="32" Label="Source3" />
                                                <Edge From="3" To="32" Label="Source4" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="31" Label="Source1" />
                                                <Edge From="6" To="7" Label="Source1" />
                                                <Edge From="7" To="50" Label="Source5" />
                                                <Edge From="7" To="52" Label="Source2" />
                                                <Edge From="8" To="9" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="10" To="13" Label="Source1" />
                                                <Edge From="10" To="50" Label="Source6" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source2" />
                                                <Edge From="12" To="38" Label="Source2" />
                                                <Edge From="13" To="39" Label="Source2" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="16" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="44" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="20" Label="Source1" />
                                                <Edge From="20" To="21" Label="Source1" />
                                                <Edge From="21" To="47" Label="Source1" />
                                                <Edge From="22" To="48" Label="Source2" />
                                                <Edge From="22" To="45" Label="Source2" />
                                                <Edge From="23" To="31" Label="Source2" />
                                                <Edge From="24" To="31" Label="Source3" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="27" Label="Source1" />
                                                <Edge From="27" To="32" Label="Source5" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source1" />
                                                <Edge From="30" To="31" Label="Source4" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="33" Label="Source1" />
                                                <Edge From="33" To="41" Label="Source2" />
                                                <Edge From="33" To="40" Label="Source2" />
                                                <Edge From="34" To="50" Label="Source4" />
                                                <Edge From="35" To="36" Label="Source1" />
                                                <Edge From="36" To="45" Label="Source3" />
                                                <Edge From="36" To="48" Label="Source3" />
                                                <Edge From="37" To="38" Label="Source3" />
                                                <Edge From="38" To="39" Label="Source1" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="GroupWorkflow">
                                            <Name>MovingBlackDots</Name>
                                            <Description>Draws multiple colored circles using the input array as position data.</Description>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="X" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="Y" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>projection</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Borders</Name>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="top" Selector="Item1" />
                                                    <Property Name="bottom" Selector="Item2" />
                                                    <Property Name="left" Selector="Item3" />
                                                    <Property Name="right" Selector="Item4" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetime" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="numDots" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="dotLifetimeBool" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelX" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>-9.92662</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="VelY" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Skip">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>0</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationX" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="LocationY" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Z" />
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="ColorA" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="FloatProperty">
                                                    <Value>1</Value>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="W" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Value" DisplayName="Diameter" />
                                                </Expression>
                                                <Expression xsi:type="PropertySource" TypeArguments="gl:CreateScale,sys:Single">
                                                  <MemberName>X</MemberName>
                                                  <Value>4.6542</Value>
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="ExtentX" />
                                                    <Property Name="ExtentY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="GroupWorkflow">
                                                  <Name>Transform</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Angle" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="ExtentX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="ExtentY" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="X" DisplayName="LocationX" />
                                                      </Expression>
                                                      <Expression xsi:type="ExternalizedMapping">
                                                        <Property Name="Y" DisplayName="LocationY" />
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:CreateTranslation">
                                                          <gl:X>0.5</gl:X>
                                                          <gl:Y>0</gl:Y>
                                                          <gl:Z>0</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:Scale">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:X>4.6542</gl:X>
                                                          <gl:Y>4.6542</gl:Y>
                                                          <gl:Z>1</gl:Z>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:RotateZ">
                                                          <gl:Order>Prepend</gl:Order>
                                                          <gl:Angle>0</gl:Angle>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="Combinator">
                                                        <Combinator xsi:type="gl:UpdateUniform">
                                                          <gl:UniformName>transform</gl:UniformName>
                                                          <gl:ShaderName>CircleArray</gl:ShaderName>
                                                        </Combinator>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="6" Label="Source1" />
                                                      <Edge From="1" To="8" Label="Source2" />
                                                      <Edge From="2" To="7" Label="Source2" />
                                                      <Edge From="3" To="7" Label="Source3" />
                                                      <Edge From="4" To="6" Label="Source2" />
                                                      <Edge From="5" To="6" Label="Source3" />
                                                      <Edge From="6" To="7" Label="Source1" />
                                                      <Edge From="7" To="8" Label="Source1" />
                                                      <Edge From="8" To="9" Label="Source1" />
                                                      <Edge From="9" To="10" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:CreateVector4">
                                                    <gl:X>0</gl:X>
                                                    <gl:Y>0</gl:Y>
                                                    <gl:Z>0</gl:Z>
                                                    <gl:W>1</gl:W>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:UpdateUniform">
                                                    <gl:UniformName>color</gl:UniformName>
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="Coherence" />
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="FloatProperty">
                                                      <Value>0</Value>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT1.5S</rx:DueTime>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="rndseed" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotField">
                                                    <p1:numDots>238</p1:numDots>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                    <p1:rndseed>3</p1:rndseed>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:GenerateDotLives">
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:numDots>238</p1:numDots>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Zip" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:CombineLatest" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Sample" />
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotionDelay" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityX" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.5S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Merge" />
                                                </Expression>
                                                <Expression xsi:type="PropertyMapping">
                                                  <PropertyMappings>
                                                    <Property Name="VelocityY" />
                                                  </PropertyMappings>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="p1:moveDots_2dLife">
                                                    <p1:VelocityX>0</p1:VelocityX>
                                                    <p1:VelocityY>0</p1:VelocityY>
                                                    <p1:Coherence>100</p1:Coherence>
                                                    <p1:dotLifetimeBool>0</p1:dotLifetimeBool>
                                                    <p1:dotLifetime>200</p1:dotLifetime>
                                                    <p1:left>-360</p1:left>
                                                    <p1:right>360</p1:right>
                                                    <p1:top>90</p1:top>
                                                    <p1:bottom>-90</p1:bottom>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="MemberSelector">
                                                  <Selector>Item1</Selector>
                                                </Expression>
                                                <Expression xsi:type="Disable">
                                                  <Builder xsi:type="Combinator">
                                                    <Combinator xsi:type="p1:wrapAroundDots">
                                                      <p1:Left>-180</p1:Left>
                                                      <p1:Right>180</p1:Right>
                                                      <p1:Top>180</p1:Top>
                                                      <p1:Bottom>-180</p1:Bottom>
                                                    </Combinator>
                                                  </Builder>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="gl:DrawMeshInstanced">
                                                    <gl:ShaderName>CircleArray</gl:ShaderName>
                                                    <gl:MeshName>Quad</gl:MeshName>
                                                    <gl:Usage>DynamicDraw</gl:Usage>
                                                    <gl:InstanceAttributes>
                                                      <gl:InstanceAttributeMapping>
                                                        <gl:Size>2</gl:Size>
                                                        <gl:Normalized>false</gl:Normalized>
                                                        <gl:Type>Float</gl:Type>
                                                        <gl:Divisor>1</gl:Divisor>
                                                      </gl:InstanceAttributeMapping>
                                                    </gl:InstanceAttributes>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="31" Label="Source2" />
                                                <Edge From="2" To="31" Label="Source3" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="4" To="30" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="6" To="50" Label="Source5" />
                                                <Edge From="6" To="52" Label="Source2" />
                                                <Edge From="7" To="8" Label="Source1" />
                                                <Edge From="8" To="37" Label="Source1" />
                                                <Edge From="9" To="38" Label="Source1" />
                                                <Edge From="9" To="50" Label="Source6" />
                                                <Edge From="10" To="37" Label="Source2" />
                                                <Edge From="10" To="38" Label="Source2" />
                                                <Edge From="11" To="50" Label="Source7" />
                                                <Edge From="12" To="13" Label="Source1" />
                                                <Edge From="13" To="14" Label="Source1" />
                                                <Edge From="14" To="15" Label="Source1" />
                                                <Edge From="15" To="44" Label="Source1" />
                                                <Edge From="16" To="17" Label="Source1" />
                                                <Edge From="17" To="18" Label="Source1" />
                                                <Edge From="18" To="19" Label="Source1" />
                                                <Edge From="19" To="47" Label="Source1" />
                                                <Edge From="20" To="45" Label="Source2" />
                                                <Edge From="20" To="48" Label="Source2" />
                                                <Edge From="21" To="30" Label="Source2" />
                                                <Edge From="22" To="30" Label="Source3" />
                                                <Edge From="23" To="31" Label="Source4" />
                                                <Edge From="24" To="25" Label="Source1" />
                                                <Edge From="25" To="26" Label="Source1" />
                                                <Edge From="26" To="31" Label="Source5" />
                                                <Edge From="27" To="28" Label="Source1" />
                                                <Edge From="28" To="29" Label="Source1" />
                                                <Edge From="29" To="30" Label="Source4" />
                                                <Edge From="30" To="31" Label="Source1" />
                                                <Edge From="31" To="32" Label="Source1" />
                                                <Edge From="32" To="41" Label="Source2" />
                                                <Edge From="32" To="40" Label="Source2" />
                                                <Edge From="33" To="50" Label="Source4" />
                                                <Edge From="34" To="35" Label="Source1" />
                                                <Edge From="35" To="45" Label="Source3" />
                                                <Edge From="35" To="48" Label="Source3" />
                                                <Edge From="36" To="37" Label="Source3" />
                                                <Edge From="37" To="39" Label="Source1" />
                                                <Edge From="38" To="39" Label="Source2" />
                                                <Edge From="39" To="40" Label="Source1" />
                                                <Edge From="40" To="41" Label="Source1" />
                                                <Edge From="41" To="42" Label="Source1" />
                                                <Edge From="42" To="50" Label="Source1" />
                                                <Edge From="43" To="44" Label="Source2" />
                                                <Edge From="43" To="47" Label="Source2" />
                                                <Edge From="44" To="45" Label="Source1" />
                                                <Edge From="45" To="46" Label="Source1" />
                                                <Edge From="46" To="50" Label="Source2" />
                                                <Edge From="47" To="48" Label="Source1" />
                                                <Edge From="48" To="49" Label="Source1" />
                                                <Edge From="49" To="50" Label="Source3" />
                                                <Edge From="50" To="51" Label="Source1" />
                                                <Edge From="51" To="52" Label="Source1" />
                                                <Edge From="52" To="53" Label="Source1" />
                                                <Edge From="53" To="54" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Zip" />
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="18" Label="Source1" />
                                          <Edge From="0" To="19" Label="Source1" />
                                          <Edge From="0" To="20" Label="Source1" />
                                          <Edge From="0" To="21" Label="Source1" />
                                          <Edge From="1" To="21" Label="Source2" />
                                          <Edge From="1" To="20" Label="Source2" />
                                          <Edge From="1" To="19" Label="Source2" />
                                          <Edge From="1" To="18" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="5" Label="Source1" />
                                          <Edge From="5" To="18" Label="Source3" />
                                          <Edge From="5" To="21" Label="Source3" />
                                          <Edge From="6" To="7" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source1" />
                                          <Edge From="9" To="20" Label="Source3" />
                                          <Edge From="9" To="19" Label="Source3" />
                                          <Edge From="10" To="18" Label="Source4" />
                                          <Edge From="10" To="21" Label="Source4" />
                                          <Edge From="10" To="20" Label="Source4" />
                                          <Edge From="10" To="19" Label="Source4" />
                                          <Edge From="11" To="18" Label="Source5" />
                                          <Edge From="12" To="19" Label="Source5" />
                                          <Edge From="13" To="20" Label="Source5" />
                                          <Edge From="14" To="21" Label="Source5" />
                                          <Edge From="15" To="16" Label="Source1" />
                                          <Edge From="16" To="17" Label="Source1" />
                                          <Edge From="17" To="18" Label="Source6" />
                                          <Edge From="17" To="19" Label="Source6" />
                                          <Edge From="17" To="20" Label="Source6" />
                                          <Edge From="17" To="21" Label="Source6" />
                                          <Edge From="18" To="22" Label="Source1" />
                                          <Edge From="19" To="22" Label="Source2" />
                                          <Edge From="20" To="22" Label="Source3" />
                                          <Edge From="21" To="22" Label="Source4" />
                                          <Edge From="22" To="23" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="gl:RenderTexture">
                                        <gl:RenderState />
                                        <gl:ClearColor>Gray</gl:ClearColor>
                                        <gl:ClearMask>DepthBufferBit ColorBufferBit</gl:ClearMask>
                                        <gl:Width xsi:nil="true" />
                                        <gl:Height xsi:nil="true" />
                                        <gl:InternalFormat>Rgba</gl:InternalFormat>
                                        <gl:WrapS>Repeat</gl:WrapS>
                                        <gl:WrapT>Repeat</gl:WrapT>
                                        <gl:MinFilter>Linear</gl:MinFilter>
                                        <gl:MagFilter>Linear</gl:MagFilter>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="rx:BehaviorSubject">
                                      <Name>TextureRight</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="scr:ExpressionTransform">
                                      <scr:Expression>new(
Item1.Id as Id,
Item1.Duration as Duration,
Item1.Size as Size,
Item1.Colour1 as Colour1,
Item1.Colour2 as Colour2,
Item1.numDots1 as numDots1,
Item1.numDots2 as numDots2,
Item1.dotLifeBool as dotLifeBool,
Item1.dotLifetime as dotLifetime,
Item1.Contrast as Contrast,
Item2 as VelXLeft,
Item1.VelYLeft as VelYLeft,
Item1.CohLeft as CohLeft,
Item3 as VelXRight,
Item1.VelYRight as VelYRight,
Item1.CohRight as CohRight,
Item1.transXL as transXL,
Item1.transXR as transXR)</scr:Expression>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>TrialParams</Name>
                                    </Expression>
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="44" Label="Source2" />
                                    <Edge From="1" To="48" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="5" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="48" Label="Source1" />
                                    <Edge From="5" To="44" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source1" />
                                    <Edge From="8" To="23" Label="Source1" />
                                    <Edge From="8" To="30" Label="Source1" />
                                    <Edge From="8" To="35" Label="Source2" />
                                    <Edge From="8" To="39" Label="Source2" />
                                    <Edge From="9" To="10" Label="Source1" />
                                    <Edge From="10" To="35" Label="Source1" />
                                    <Edge From="11" To="12" Label="Source1" />
                                    <Edge From="12" To="13" Label="Source1" />
                                    <Edge From="13" To="44" Label="Source4" />
                                    <Edge From="14" To="15" Label="Source1" />
                                    <Edge From="15" To="16" Label="Source1" />
                                    <Edge From="16" To="48" Label="Source4" />
                                    <Edge From="17" To="18" Label="Source1" />
                                    <Edge From="18" To="39" Label="Source1" />
                                    <Edge From="19" To="20" Label="Source1" />
                                    <Edge From="20" To="44" Label="Source6" />
                                    <Edge From="20" To="48" Label="Source6" />
                                    <Edge From="21" To="22" Label="Source1" />
                                    <Edge From="21" To="25" Label="Source1" />
                                    <Edge From="22" To="23" Label="Source2" />
                                    <Edge From="22" To="52" Label="Source2" />
                                    <Edge From="23" To="24" Label="Source1" />
                                    <Edge From="24" To="27" Label="Source1" />
                                    <Edge From="25" To="30" Label="Source2" />
                                    <Edge From="25" To="52" Label="Source3" />
                                    <Edge From="26" To="27" Label="Source2" />
                                    <Edge From="26" To="37" Label="Source2" />
                                    <Edge From="26" To="32" Label="Source2" />
                                    <Edge From="26" To="41" Label="Source2" />
                                    <Edge From="27" To="28" Label="Source1" />
                                    <Edge From="28" To="29" Label="Source1" />
                                    <Edge From="29" To="44" Label="Source3" />
                                    <Edge From="30" To="31" Label="Source1" />
                                    <Edge From="31" To="32" Label="Source1" />
                                    <Edge From="32" To="33" Label="Source1" />
                                    <Edge From="33" To="34" Label="Source1" />
                                    <Edge From="34" To="48" Label="Source3" />
                                    <Edge From="35" To="36" Label="Source1" />
                                    <Edge From="36" To="37" Label="Source1" />
                                    <Edge From="37" To="38" Label="Source1" />
                                    <Edge From="38" To="44" Label="Source5" />
                                    <Edge From="39" To="40" Label="Source1" />
                                    <Edge From="40" To="41" Label="Source1" />
                                    <Edge From="41" To="42" Label="Source1" />
                                    <Edge From="42" To="43" Label="Source1" />
                                    <Edge From="43" To="48" Label="Source5" />
                                    <Edge From="44" To="45" Label="Source1" />
                                    <Edge From="45" To="46" Label="Source1" />
                                    <Edge From="46" To="47" Label="Source1" />
                                    <Edge From="48" To="49" Label="Source1" />
                                    <Edge From="49" To="50" Label="Source1" />
                                    <Edge From="51" To="52" Label="Source1" />
                                    <Edge From="52" To="53" Label="Source1" />
                                    <Edge From="53" To="54" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Unit" />
                              <Expression xsi:type="rx:BehaviorSubject">
                                <Name>ReadyToDraw</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:TakeUntil" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="3" Label="Source1" />
                              <Edge From="1" To="6" Label="Source2" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty">
                            <Value>stimON</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.LogEvent.bonsai">
                          <Format xsi:nil="true" />
                          <Selector xsi:nil="true" />
                          <Name>Events</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>QuadState</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Delay">
                            <rx:DueTime>PT0.2S</rx:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="FloatProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>QuadState</Name>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>Calculate ISI Duration</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>ISI Lower</Name>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Lower" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>ISI Upper</Name>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Upper" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p2:CreateContinuousUniform">
                                  <p2:Lower>1.8</p2:Lower>
                                  <p2:Upper>2.2</p2:Upper>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p2:Sample" />
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="4" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="DueTime" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>TexturedModels</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>DrawTexturedModels</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Draw3DStim</Name>
                                    </Expression>
                                    <Expression xsi:type="rx:Sink">
                                      <Name>BindLeft</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="Name" />
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TextureLeft</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="ShaderName" />
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="gl:BindTexture">
                                              <gl:TextureSlot>Texture0</gl:TextureSlot>
                                              <gl:ShaderName>TexturedModel</gl:ShaderName>
                                              <gl:TextureTarget>Texture2D</gl:TextureTarget>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="3" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source2" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="6" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source2" />
                                          <Edge From="6" To="7" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Borders</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1</Selector>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Subtract" />
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="ScaleY" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item3</Selector>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item4</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="Subtract" />
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="ScaleX" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Parameters</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>transXL</Selector>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="TranslationX" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.DrawTexturedModel.bonsai">
                                      <TranslationX>-100</TranslationX>
                                      <TranslationY>0</TranslationY>
                                      <TranslationZ>0</TranslationZ>
                                      <ScaleX>720</ScaleX>
                                      <ScaleY>180</ScaleY>
                                      <ScaleZ>1</ScaleZ>
                                      <MeshName>Plane</MeshName>
                                      <Ambient>
                                        <X>1</X>
                                        <Y>1</Y>
                                        <Z>1</Z>
                                      </Ambient>
                                      <Diffuse>
                                        <X>0</X>
                                        <Y>0</Y>
                                        <Z>0</Z>
                                      </Diffuse>
                                      <Specular>
                                        <X>0</X>
                                        <Y>0</Y>
                                        <Z>0</Z>
                                      </Specular>
                                      <SpecularExponent>100</SpecularExponent>
                                      <RotationZ>0</RotationZ>
                                      <RotationY>90</RotationY>
                                      <RotationX>0</RotationX>
                                    </Expression>
                                    <Expression xsi:type="rx:Sink">
                                      <Name>BindRight</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="Name" />
                                          </Expression>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>TextureRight</Name>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:WithLatestFrom" />
                                          </Expression>
                                          <Expression xsi:type="MemberSelector">
                                            <Selector>Item2</Selector>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="ShaderName" />
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="gl:BindTexture">
                                              <gl:TextureSlot>Texture0</gl:TextureSlot>
                                              <gl:ShaderName>TexturedModel</gl:ShaderName>
                                              <gl:TextureTarget>Texture2D</gl:TextureTarget>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="3" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source2" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="4" To="6" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source2" />
                                          <Edge From="6" To="7" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>transXR</Selector>
                                    </Expression>
                                    <Expression xsi:type="PropertyMapping">
                                      <PropertyMappings>
                                        <Property Name="TranslationX" />
                                      </PropertyMappings>
                                    </Expression>
                                    <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.DrawTexturedModel.bonsai">
                                      <TranslationX>100</TranslationX>
                                      <TranslationY>0</TranslationY>
                                      <TranslationZ>0</TranslationZ>
                                      <ScaleX>720</ScaleX>
                                      <ScaleY>180</ScaleY>
                                      <ScaleZ>1</ScaleZ>
                                      <MeshName>Plane</MeshName>
                                      <Ambient>
                                        <X>1</X>
                                        <Y>1</Y>
                                        <Z>1</Z>
                                      </Ambient>
                                      <Diffuse>
                                        <X>0</X>
                                        <Y>0</Y>
                                        <Z>0</Z>
                                      </Diffuse>
                                      <Specular>
                                        <X>0</X>
                                        <Y>0</Y>
                                        <Z>0</Z>
                                      </Specular>
                                      <SpecularExponent>100</SpecularExponent>
                                      <RotationZ>0</RotationZ>
                                      <RotationY>90</RotationY>
                                      <RotationX>0</RotationX>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="0" To="17" Label="Source1" />
                                    <Edge From="1" To="16" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="2" To="4" Label="Source1" />
                                    <Edge From="2" To="8" Label="Source1" />
                                    <Edge From="2" To="9" Label="Source1" />
                                    <Edge From="3" To="5" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="16" Label="Source3" />
                                    <Edge From="7" To="20" Label="Source3" />
                                    <Edge From="8" To="10" Label="Source2" />
                                    <Edge From="9" To="10" Label="Source1" />
                                    <Edge From="10" To="11" Label="Source1" />
                                    <Edge From="11" To="12" Label="Source1" />
                                    <Edge From="12" To="16" Label="Source4" />
                                    <Edge From="12" To="20" Label="Source4" />
                                    <Edge From="13" To="14" Label="Source1" />
                                    <Edge From="13" To="18" Label="Source1" />
                                    <Edge From="14" To="15" Label="Source1" />
                                    <Edge From="15" To="16" Label="Source2" />
                                    <Edge From="16" To="21" Label="Source1" />
                                    <Edge From="17" To="20" Label="Source1" />
                                    <Edge From="18" To="19" Label="Source1" />
                                    <Edge From="19" To="20" Label="Source2" />
                                    <Edge From="20" To="21" Label="Source2" />
                                    <Edge From="21" To="22" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>ReadyToDraw</Name>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="Combinator">
                                  <Combinator xsi:type="rx:Skip">
                                    <rx:Count>10</rx:Count>
                                  </Combinator>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:SampleOnRenderFrame" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:SubscribeWhen" />
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>EndStimulus</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:TakeUntil" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Last" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="StringProperty">
                                  <Value>stimOFF</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.LogEvent.bonsai">
                                <Format xsi:nil="true" />
                                <Selector xsi:nil="true" />
                                <Name>Events</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>QuadState</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="4" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="6" Label="Source1" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="7" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="9" To="11" Label="Source1" />
                              <Edge From="11" To="12" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Unit" />
                        <Expression xsi:type="rx:BehaviorSubject">
                          <Name>StimulusEnded</Name>
                        </Expression>
                        <Expression xsi:type="Unit" />
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="gl:Delay">
                            <gl:DueTime>PT1.948S</gl:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:BehaviorSubject">
                          <Name>TrialOver</Name>
                        </Expression>
                        <Expression xsi:type="Unit" />
                        <Expression xsi:type="WorkflowOutput" />
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>Draw Masking Planes</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="SubscribeSubject">
                                  <Name>Draw3DStim</Name>
                                </Expression>
                                <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.DrawModel.bonsai">
                                  <TranslationX>0</TranslationX>
                                  <TranslationY>0</TranslationY>
                                  <TranslationZ>-25</TranslationZ>
                                  <ScaleX>1000</ScaleX>
                                  <ScaleY>2500</ScaleY>
                                  <ScaleZ>0</ScaleZ>
                                  <MeshName>Plane</MeshName>
                                  <Ambient>
                                    <X>0.5</X>
                                    <Y>0.5</Y>
                                    <Z>0.5</Z>
                                  </Ambient>
                                  <Diffuse>
                                    <X>0</X>
                                    <Y>0</Y>
                                    <Z>0</Z>
                                  </Diffuse>
                                  <Specular>
                                    <X>0</X>
                                    <Y>0</Y>
                                    <Z>0</Z>
                                  </Specular>
                                  <SpecularExponent>0</SpecularExponent>
                                  <RotationZ>0</RotationZ>
                                  <RotationY>0</RotationY>
                                  <RotationX>0</RotationX>
                                </Expression>
                                <Expression xsi:type="Combinator">
                                  <Combinator xsi:type="StringProperty">
                                    <Value>Background plane (stops flickering)</Value>
                                  </Combinator>
                                </Expression>
                                <Expression xsi:type="SubscribeSubject">
                                  <Name>Draw3DStim</Name>
                                </Expression>
                                <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.DrawModel.bonsai">
                                  <TranslationX>0</TranslationX>
                                  <TranslationY>40</TranslationY>
                                  <TranslationZ>-7</TranslationZ>
                                  <ScaleX>300</ScaleX>
                                  <ScaleY>25</ScaleY>
                                  <ScaleZ>0</ScaleZ>
                                  <MeshName>Plane</MeshName>
                                  <Ambient>
                                    <X>0.5</X>
                                    <Y>0.5</Y>
                                    <Z>0.5</Z>
                                  </Ambient>
                                  <Diffuse>
                                    <X>0</X>
                                    <Y>0</Y>
                                    <Z>0</Z>
                                  </Diffuse>
                                  <Specular>
                                    <X>0</X>
                                    <Y>0</Y>
                                    <Z>0</Z>
                                  </Specular>
                                  <SpecularExponent>0</SpecularExponent>
                                  <RotationZ>0</RotationZ>
                                  <RotationY>0</RotationY>
                                  <RotationX>0</RotationX>
                                </Expression>
                                <Expression xsi:type="Combinator">
                                  <Combinator xsi:type="StringProperty">
                                    <Value>ceiling mask for pole</Value>
                                  </Combinator>
                                </Expression>
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="1" Label="Source1" />
                                <Edge From="1" To="2" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                                <Edge From="4" To="5" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>StimulusTimer</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Parameters</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Duration</Selector>
                              </Expression>
                              <Expression xsi:type="scr:ExpressionTransform">
                                <scr:Expression>TimeSpan.FromSeconds(it)</scr:Expression>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="DueTime" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="gl:Timer">
                                  <gl:DueTime>PT2S</gl:DueTime>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Unit" />
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="rx:BehaviorSubject">
                          <Name>EndStimulus</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="DueTime" DisplayName="TrialClassPostStimTime" />
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>EndStimulus</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="gl:Delay">
                            <gl:DueTime>PT0.1S</gl:DueTime>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>ClasifyTrialAndUpdateCounters</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>MovMeanWheelSpeed</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:TakeUntil" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Average" />
                              </Expression>
                              <Expression xsi:type="rx:BehaviorSubject">
                                <Name>MeanRunSpeed</Name>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>RunTrial?</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="GreaterThan">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>StatTrial?</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="IntProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:First" />
                              </Expression>
                              <Expression xsi:type="rx:BehaviorSubject">
                                <Name>TrialStateClass</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Accumulate" />
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:TakeUntil" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Last" />
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="RunMinPropThresh" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>OverRunThresh?</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="RunMinPropThresh" />
                                    </Expression>
                                    <Expression xsi:type="GreaterThanOrEqual">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>0.5</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Accumulate" />
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="StatMaxPropThresh" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>0</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:TakeUntil" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Last" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="rx:BehaviorSubject">
                                <Name>RunProp</Name>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>UnderStatThresh?</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="Value" DisplayName="StatMaxPropThresh" />
                                    </Expression>
                                    <Expression xsi:type="LessThanOrEqual">
                                      <Operand xsi:type="DoubleProperty">
                                        <Value>3</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="FloatProperty">
                                  <Value>1</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Accumulate" />
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:TakeUntil" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Last" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Divide" />
                              <Expression xsi:type="rx:BehaviorSubject">
                                <Name>StatProp</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialCounters</Name>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="TrialCounterArray" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>CurrentStimIndex</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>TrialStateClass</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p1:IncrementStateDependentTrialCounter">
                                  <p1:TrialCounterArray>
                                    <p1:ArrayOfInt>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>1</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>1</p1:int>
                                      <p1:int>1</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                    </p1:ArrayOfInt>
                                    <p1:ArrayOfInt>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                      <p1:int>0</p1:int>
                                    </p1:ArrayOfInt>
                                  </p1:TrialCounterArray>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>TrialCounters</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>MonitorTrialCountsSub</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="0" To="12" Label="Source1" />
                              <Edge From="0" To="17" Label="Source1" />
                              <Edge From="0" To="28" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="1" To="23" Label="Source2" />
                              <Edge From="1" To="14" Label="Source2" />
                              <Edge From="1" To="32" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="4" To="7" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="9" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source2" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="13" To="14" Label="Source1" />
                              <Edge From="14" To="15" Label="Source1" />
                              <Edge From="15" To="25" Label="Source2" />
                              <Edge From="15" To="34" Label="Source2" />
                              <Edge From="16" To="17" Label="Source2" />
                              <Edge From="17" To="18" Label="Source1" />
                              <Edge From="18" To="19" Label="Source1" />
                              <Edge From="19" To="22" Label="Source1" />
                              <Edge From="20" To="28" Label="Source2" />
                              <Edge From="21" To="31" Label="Source2" />
                              <Edge From="21" To="22" Label="Source2" />
                              <Edge From="22" To="23" Label="Source1" />
                              <Edge From="23" To="24" Label="Source1" />
                              <Edge From="24" To="25" Label="Source1" />
                              <Edge From="25" To="26" Label="Source1" />
                              <Edge From="26" To="27" Label="Source1" />
                              <Edge From="28" To="29" Label="Source1" />
                              <Edge From="29" To="30" Label="Source1" />
                              <Edge From="30" To="31" Label="Source1" />
                              <Edge From="31" To="32" Label="Source1" />
                              <Edge From="32" To="33" Label="Source1" />
                              <Edge From="33" To="34" Label="Source1" />
                              <Edge From="34" To="35" Label="Source1" />
                              <Edge From="35" To="36" Label="Source1" />
                              <Edge From="37" To="38" Label="Source1" />
                              <Edge From="38" To="42" Label="Source1" />
                              <Edge From="39" To="41" Label="Source2" />
                              <Edge From="39" To="44" Label="Source2" />
                              <Edge From="40" To="41" Label="Source1" />
                              <Edge From="40" To="44" Label="Source1" />
                              <Edge From="41" To="42" Label="Source2" />
                              <Edge From="42" To="43" Label="Source1" />
                              <Edge From="43" To="44" Label="Source3" />
                              <Edge From="44" To="45" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="0" To="3" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="4" To="6" Label="Source1" />
                        <Edge From="4" To="8" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="17" Label="Source2" />
                        <Edge From="13" To="14" Label="Source1" />
                        <Edge From="14" To="15" Label="Source1" />
                        <Edge From="15" To="16" Label="Source1" />
                        <Edge From="16" To="17" Label="Source1" />
                        <Edge From="17" To="18" Label="Source1" />
                        <Edge From="18" To="19" Label="Source1" />
                        <Edge From="19" To="20" Label="Source1" />
                        <Edge From="22" To="23" Label="Source1" />
                        <Edge From="24" To="26" Label="Source2" />
                        <Edge From="25" To="26" Label="Source1" />
                        <Edge From="26" To="27" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialEnd</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Concat" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Repeat" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Start and End Task</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="wie:KeyDown">
                      <wie:Filter>LButton RButton Cancel ShiftKey ControlKey Menu Pause A B C P Q R S Shift</wie:Filter>
                      <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="wie:KeyDown">
                      <wie:Filter>LButton ShiftKey ControlKey A P Q Shift</wie:Filter>
                      <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialEnd</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Sample" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="gl:SampleOnRenderFrame" />
                  </Expression>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:TakeUntil" />
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>WriteMetadata</Name>
                  </Expression>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="MulticastSubject">
                    <Name>EndWorkflow</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="6" Label="Source2" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="7" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="WorkflowOutput" />
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="3" Label="Source1" />
            <Edge From="2" To="3" Label="Source2" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="WorkflowOutput" />
      <Expression xsi:type="GroupWorkflow">
        <Name>Generate File Names</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="StimulusID" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>SDTrainingEphys</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="MouseID" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty">
                <Value>M24018</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_{1}</Format>
              <Selector>Item2,Item1</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>FilenamePrefix</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>FilenamePrefix</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_EyeLog.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>EyeName</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_PDAsync.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PDname</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_WheelLog.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>WheelName</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_Trial.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialName</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_Metadata.csv</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>MetadataName</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="1" To="4" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source2" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="7" To="10" Label="Source1" />
            <Edge From="7" To="12" Label="Source1" />
            <Edge From="7" To="14" Label="Source1" />
            <Edge From="7" To="16" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="MetadataFileToLoad" />
        <Property Name="pEngagedThreshold" DisplayName="pEngagedThresh" Category="PerfTracking" />
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="ISILower" Category="Timing" />
        <Property Name="ISI Upper" Category="Timing" />
        <Property Name="RespWindowDelay" Category="Timing" />
        <Property Name="RespWindowLength" Category="Timing" />
        <Property Name="NoLickTime" Category="Timing" />
        <Property Name="TimeoutTime" Category="PerfTracking" />
        <Property Name="PreMotionAbortBool" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Initialise Variables</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>Borders</Name>
              <Description>Set values for borders of display</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="TopBorder" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>90</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Top</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="BottomBorder" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>-90</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Bottom</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="LeftBorder" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>-360</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Left</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="RightBorder" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>360</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Right</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>Borders</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="12" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="12" Label="Source2" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="12" Label="Source3" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source4" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="ISILower" />
              <Property Name="ISI Upper" />
              <Property Name="RespWindowDelay" />
              <Property Name="RespWindowLength" />
              <Property Name="NoLickTime" />
              <Property Name="TimeoutTime" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Timing Variables</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>0.5</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>MotionDelay</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="ISILower" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>1.8</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ISI Lower</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="ISI Upper" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>2.2</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ISI Upper</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="RespWindowDelay" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>0.7</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ResponseWindowDelay</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="RespWindowLength" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>6</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ResponseWindowLength</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="NoLickTime" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="DoubleProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>NoLickTime</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>2</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>StimulusDuration</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="TimeoutTime" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="FloatProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>TimeoutTime</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>false</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>DoTimeout</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="19" To="20" Label="Source1" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="22" To="23" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>TrialOutcomes</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>IncorrectResponse</Name>
                  </Expression>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>LeftCorrect</Name>
                  </Expression>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>RightCorrect</Name>
                  </Expression>
                  <Expression xsi:type="Unit" />
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>NoResponse</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>TrialResults</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="num:CreateRandom">
                <num:Seed>42</num:Seed>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Random</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:PublishSubject">
              <Name>Sync</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialProgress</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SyncPulse</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>QuadState</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>VideoFrameCount</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>runTrial</Name>
            </Expression>
            <Expression xsi:type="Unit" />
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>EndWorkflow</Name>
            </Expression>
            <Expression xsi:type="Unit" />
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>EndStimulus</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftRewardString</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightRewardString</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="StringProperty" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>SerialToSend</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Response</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftVel</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightVel</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Contrast</Name>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="PreMotionAbortBool" Category="PerfTracking" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="BooleanProperty">
                <Value>false</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PreMotionAbortBool</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="DoubleProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>TrialMeanRunningSpeed</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>itrial</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="22" To="23" Label="Source1" />
            <Edge From="24" To="25" Label="Source1" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="28" To="29" Label="Source1" />
            <Edge From="30" To="31" Label="Source1" />
            <Edge From="32" To="33" Label="Source1" />
            <Edge From="34" To="35" Label="Source1" />
            <Edge From="36" To="37" Label="Source1" />
            <Edge From="37" To="38" Label="Source1" />
            <Edge From="39" To="40" Label="Source1" />
            <Edge From="41" To="42" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Arduino</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:CreateSerialPort">
                <io:Name>ArduinoSerial</io:Name>
                <io:PortName>COM4</io:PortName>
                <io:BaudRate>1000000</io:BaudRate>
                <io:Encoding>us-ascii</io:Encoding>
                <io:Parity>None</io:Parity>
                <io:ParityReplace>63</io:ParityReplace>
                <io:DataBits>8</io:DataBits>
                <io:StopBits>One</io:StopBits>
                <io:Handshake>None</io:Handshake>
                <io:DiscardNull>false</io:DiscardNull>
                <io:DtrEnable>true</io:DtrEnable>
                <io:RtsEnable>false</io:RtsEnable>
                <io:ReadBufferSize>4096</io:ReadBufferSize>
                <io:WriteBufferSize>2048</io:WriteBufferSize>
                <io:ReceivedBytesThreshold>1</io:ReceivedBytesThreshold>
              </Combinator>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="PortName" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:SerialStringRead">
                <io:PortName>ArduinoSerial</io:PortName>
                <io:NewLine>\n</io:NewLine>
              </Combinator>
            </Expression>
            <Expression xsi:type="Parse">
              <Pattern>%i,%i,%i,%i,%i,%i</Pattern>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Retry" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item1</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>WheelInput</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:DistinctUntilChanged" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LeftLick</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item3</Selector>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:DistinctUntilChanged" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RightLick</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item4</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LastSyncPulseTime</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item5</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>Photodiode</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item6</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>ArduinoTime</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>SerialToSend</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Skip">
                <rx:Count>1</rx:Count>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:SerialStringWrite">
                <io:PortName>ArduinoSerial</io:PortName>
                <io:NewLine>\r</io:NewLine>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:Accumulate" />
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:CreateSerialPort">
                <io:Name>ArduinoPD</io:Name>
                <io:PortName>COM5</io:PortName>
                <io:BaudRate>250000</io:BaudRate>
                <io:Encoding>us-ascii</io:Encoding>
                <io:Parity>None</io:Parity>
                <io:ParityReplace>63</io:ParityReplace>
                <io:DataBits>8</io:DataBits>
                <io:StopBits>One</io:StopBits>
                <io:Handshake>None</io:Handshake>
                <io:DiscardNull>false</io:DiscardNull>
                <io:DtrEnable>true</io:DtrEnable>
                <io:RtsEnable>false</io:RtsEnable>
                <io:ReadBufferSize>4096</io:ReadBufferSize>
                <io:WriteBufferSize>2048</io:WriteBufferSize>
                <io:ReceivedBytesThreshold>1</io:ReceivedBytesThreshold>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="io:SerialStringRead">
                <io:PortName>ArduinoPD</io:PortName>
                <io:NewLine>\n</io:NewLine>
              </Combinator>
            </Expression>
            <Expression xsi:type="Parse">
              <Pattern>%i,%i</Pattern>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Retry" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>PDandAsync</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item1</Selector>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="4" To="7" Label="Source1" />
            <Edge From="4" To="10" Label="Source1" />
            <Edge From="4" To="13" Label="Source1" />
            <Edge From="4" To="15" Label="Source1" />
            <Edge From="4" To="17" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="15" To="16" Label="Source1" />
            <Edge From="17" To="18" Label="Source1" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="22" To="23" Label="Source1" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="27" To="28" Label="Source1" />
            <Edge From="28" To="29" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Logging</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>InitialiseLogging_AndRespWindow</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>StartSession</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="GroupWorkflow">
                      <Name>LicksLogger</Name>
                      <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
                      <Workflow>
                        <Nodes>
                          <Expression xsi:type="SubscribeSubject">
                            <Name>Licks</Name>
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Overwrite" />
                          </Expression>
                          <Expression xsi:type="ExternalizedMapping">
                            <Property Name="Suffix" />
                          </Expression>
                          <Expression xsi:type="SubscribeSubject">
                            <Name>FilenamePrefix</Name>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="StringProperty">
                              <Value>_Licks</Value>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="scr:ExpressionTransform">
                            <scr:Expression>it.Item1+it.Item2</scr:Expression>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Take">
                              <rx:Count>1</rx:Count>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Format">
                            <Format>{0}.csv</Format>
                          </Expression>
                          <Expression xsi:type="PropertyMapping">
                            <PropertyMappings>
                              <Property Name="FileName" />
                            </PropertyMappings>
                          </Expression>
                          <Expression xsi:type="io:CsvWriter">
                            <io:FileName>eddTest_SDTraining_Licks.csv</io:FileName>
                            <io:Delimiter>,</io:Delimiter>
                            <io:Append>false</io:Append>
                            <io:Overwrite>false</io:Overwrite>
                            <io:Suffix>Timestamp</io:Suffix>
                            <io:IncludeHeader>false</io:IncludeHeader>
                            <io:Selector />
                          </Expression>
                        </Nodes>
                        <Edges>
                          <Edge From="0" To="10" Label="Source4" />
                          <Edge From="1" To="10" Label="Source2" />
                          <Edge From="2" To="10" Label="Source3" />
                          <Edge From="3" To="5" Label="Source1" />
                          <Edge From="4" To="5" Label="Source2" />
                          <Edge From="5" To="6" Label="Source1" />
                          <Edge From="6" To="7" Label="Source1" />
                          <Edge From="7" To="8" Label="Source1" />
                          <Edge From="8" To="9" Label="Source1" />
                          <Edge From="9" To="10" Label="Source1" />
                        </Edges>
                      </Workflow>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:SubscribeWhen" />
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="StringProperty">
                        <Value>StartSession</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:Take">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Builder>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>WheelLogger</Name>
              <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Overwrite" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Suffix" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>FilenamePrefix</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>_Wheel</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>{0}.csv</Format>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>WheelLog</Name>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>M24018_SDTrainingEphys_Wheel.csv</io:FileName>
                    <io:Delimiter>,</io:Delimiter>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>Timestamp</io:Suffix>
                    <io:IncludeHeader>true</io:IncludeHeader>
                    <io:Selector />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="11" Label="Source2" />
                  <Edge From="1" To="11" Label="Source3" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="11" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source4" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="wie:KeyDown">
                <wie:Filter>MButton Back Clear D H L Shift</wie:Filter>
                <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>LicksLogger</Name>
              <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LickLog</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Overwrite" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Suffix" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>FilenamePrefix</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>_Licks</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>{0}.csv</Format>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>M24018_SDTrainingEphys_Licks.csv</io:FileName>
                    <io:Delimiter>,</io:Delimiter>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>Timestamp</io:Suffix>
                    <io:IncludeHeader>true</io:IncludeHeader>
                    <io:Selector />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="10" Label="Source4" />
                  <Edge From="1" To="10" Label="Source2" />
                  <Edge From="2" To="10" Label="Source3" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>EventsLogger</Name>
              <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Overwrite" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Suffix" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>FilenamePrefix</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>_Events</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>{0}.csv</Format>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>EventsLog</Name>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>M24018_SDTrainingEphys_Events.csv</io:FileName>
                    <io:Delimiter>,</io:Delimiter>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>Timestamp</io:Suffix>
                    <io:IncludeHeader>true</io:IncludeHeader>
                    <io:Selector />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Event</Selector>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="10" Label="Source2" />
                  <Edge From="1" To="10" Label="Source3" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="10" Label="Source1" />
                  <Edge From="9" To="10" Label="Source4" />
                  <Edge From="9" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>TrialLogger</Name>
              <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialParams</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Timestamp.DateTime.TimeOfDay</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Overwrite" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Suffix" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>FilenamePrefix</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>_TrialParams</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>{0}.csv</Format>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ArduinoTime</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(
Item1.Item1.Id as Id,
Item1.Item1.Duration as Duration,
Item1.Item1.Size as Size,
Item1.Item1.Colour1 as Colour1,
Item1.Item1.Colour2 as Colour2,
Item1.Item1.numDots1 as numDots1,
Item1.Item1.numDots2 as numDots2,
Item1.Item1.dotLifeBool as dotLifeBool,
Item1.Item1.dotLifetime as dotLifetime,
Item1.Item1.Contrast as Contrast,
Item1.Item1.VelXLeft as VelXLeft,
Item1.Item1.VelYLeft as VelYLeft,
Item1.Item1.CohLeft as CohLeft,
Item1.Item1.VelXRight as VelXRight,
Item1.Item1.VelYRight as VelYRight,
Item1.Item1.CohRight as CohRight,
Item1.Item1.transXL as transXL,
Item1.Item1.transXR as transXR,
Item1.Item2 as BonsaiTime,
Item2 as ArudinoTime)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>M24018_SDTrainingEphys_TrialParams.csv</io:FileName>
                    <io:Delimiter>,</io:Delimiter>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>Timestamp</io:Suffix>
                    <io:IncludeHeader>true</io:IncludeHeader>
                    <io:Selector />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="14" Label="Source1" />
                  <Edge From="4" To="16" Label="Source2" />
                  <Edge From="5" To="16" Label="Source3" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="16" Label="Source1" />
                  <Edge From="13" To="14" Label="Source2" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source4" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>VideoLogger</Name>
              <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>VideoLog</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Overwrite" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Suffix" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>FilenamePrefix</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>_Video</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>{0}.csv</Format>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>M24018_SDTrainingEphys_Video.csv</io:FileName>
                    <io:Delimiter>,</io:Delimiter>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>Timestamp</io:Suffix>
                    <io:IncludeHeader>true</io:IncludeHeader>
                    <io:Selector />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="10" Label="Source4" />
                  <Edge From="1" To="10" Label="Source2" />
                  <Edge From="2" To="10" Label="Source3" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>PhotodiodeLogger</Name>
              <Description>Creates and initializes a CSV file, and matching behavior subject, on which to timestamp and log events.</Description>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Overwrite" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Suffix" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>FilenamePrefix</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>_Photodiode</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Format">
                    <Format>{0}.csv</Format>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="FileName" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>PDLog</Name>
                  </Expression>
                  <Expression xsi:type="io:CsvWriter">
                    <io:FileName>M24018_SDTrainingEphys_Photodiode.csv</io:FileName>
                    <io:Delimiter>,</io:Delimiter>
                    <io:Append>false</io:Append>
                    <io:Overwrite>false</io:Overwrite>
                    <io:Suffix>Timestamp</io:Suffix>
                    <io:IncludeHeader>true</io:IncludeHeader>
                    <io:Selector />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="11" Label="Source2" />
                  <Edge From="1" To="11" Label="Source3" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="11" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source4" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>WheelLogging</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>WheelInput</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LastSyncPulseTime</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ArduinoTime</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RenderFrameCount</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(Item1.Item1 as Wheel, Item1.Item2 as LastSyncPulseTime, Item1.Item3 as ArduinoTime, Item1.Item4 as BonsaiTime, Item2 as RenderFrameCount)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>WheelLog</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="5" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="5" Label="Source4" />
                  <Edge From="3" To="5" Label="Source2" />
                  <Edge From="4" To="5" Label="Source3" />
                  <Edge From="5" To="7" Label="Source1" />
                  <Edge From="6" To="7" Label="Source2" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>LickLogging</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LeftLick</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>RightLick</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LastSyncPulseTime</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ArduinoTime</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(Item1.Item1.Item1 as LeftLick, Item1.Item1.Item2 as RightLick, Item1.Item2.Item1 as LastSyncPulseTime, Item1.Item2.Item2 as ArduinoTime, Item2 as BonsaiTime)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>LickLog</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="2" Label="Source2" />
                  <Edge From="2" To="6" Label="Source1" />
                  <Edge From="2" To="7" Label="Source1" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source2" />
                  <Edge From="6" To="9" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source2" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>EventsLogging</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Events</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ArduinoTime</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LastSyncPulseTime</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(Item1.Item1 as Event, Item2.Item2 as LastSyncPulseTime, Item2.Item1 as ArduinoTime, Item1.Item2 as BonsaiTime)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>EventsLog</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source3" />
                  <Edge From="3" To="7" Label="Source1" />
                  <Edge From="4" To="6" Label="Source1" />
                  <Edge From="5" To="6" Label="Source2" />
                  <Edge From="6" To="7" Label="Source2" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>LogResponseWindowInfo</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ResponseWindowDelay</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.ToString()</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>respDelay</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.LogEvent.bonsai">
                    <Format xsi:nil="true" />
                    <Selector xsi:nil="true" />
                    <Name>Events</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ResponseWindowLength</Name>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.ToString()</scr:Expression>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty">
                      <Value>respSize</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>it.Item1+it.Item2</scr:Expression>
                  </Expression>
                  <Expression xsi:type="IncludeWorkflow" Path="BonVision:Logging.LogEvent.bonsai">
                    <Format xsi:nil="true" />
                    <Selector xsi:nil="true" />
                    <Name>Events</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="3" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="9" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>VideoLogging</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>VideoFrameCount</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ArduinoTime</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>VideoLEDAsync</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:WithLatestFrom" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(Item1.Item1 as VideoFrameCount, Item1.Item3 as LEDAsync, Item2 as ArduinoTime, Item1.Item2 as BonsaiTime)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>VideoLog</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="5" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="5" Label="Source2" />
                  <Edge From="3" To="6" Label="Source2" />
                  <Edge From="4" To="5" Label="Source3" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>IntialiseTrialParams</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="FloatProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="IntProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="DoubleProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="DoubleProperty">
                        <Value>0</Value>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:Zip" />
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="scr:ExpressionTransform">
                      <scr:Expression>new(Item1 as TrialType, Item2 as Response, Item3 as TrialResult, Item4 as LeftVel, Item5 as RightVel)</scr:Expression>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:Skip">
                        <rx:Count>1</rx:Count>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="rx:BehaviorSubject">
                      <Name>TrialParams</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="WorkflowOutput" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p1:SpeedDiscSpecification2">
                      <p1:Trials />
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>EnsureSpeedDiscParameters</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ElementIndex" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Index</Selector>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Duration</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="DotSize" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Colour1" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Colour2" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="numDots1" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="numDots2" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="dotLifeBool" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="dotLifetime" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Contrast" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelXleft" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelYleft" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="CohLeft" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelXright" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="VelYright" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="CohRight" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Duration" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Size</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Colour1</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Colour2</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.numDots1</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.numDots2</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.dotLifeBool</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.dotLifetime</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.Contrast</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityXLeft</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityYLeft</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.CoherenceLeft</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityXRight</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.VelocityYRight</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.CoherenceRight</Selector>
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.transXLeft</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="transXL" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.transXRight</Selector>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="transXR" />
                        </Expression>
                        <Expression xsi:type="GetValueOrDefault">
                          <Operand xsi:type="FloatProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="scr:ExpressionTransform">
                          <scr:Expression>new(
Item1.Item1 as Id,
Item1.Item2 as Duration,
Item1.Item3 as Size,
Item1.Item4 as Colour1,
Item1.Item5 as Colour2,
Item1.Item6 as numDots1,
Item1.Item7 as numDots2,
Item2.Item1 as dotLifeBool,
Item2.Item2 as dotLifetime,
Item2.Item3 as Contrast,
Item3.Item1 as VelXLeft,
Item3.Item2 as VelYLeft,
Item3.Item3 as CohLeft,
Item3.Item4 as VelXRight,
Item3.Item5 as VelYRight,
Item3.Item6 as CohRight,
Item4.Item1 as transXL,
Item4.Item2 as transXR)</scr:Expression>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="1" To="20" Label="Source1" />
                        <Edge From="1" To="22" Label="Source1" />
                        <Edge From="1" To="24" Label="Source1" />
                        <Edge From="1" To="26" Label="Source1" />
                        <Edge From="1" To="28" Label="Source1" />
                        <Edge From="1" To="31" Label="Source1" />
                        <Edge From="1" To="33" Label="Source1" />
                        <Edge From="1" To="35" Label="Source1" />
                        <Edge From="1" To="38" Label="Source1" />
                        <Edge From="1" To="40" Label="Source1" />
                        <Edge From="1" To="42" Label="Source1" />
                        <Edge From="1" To="44" Label="Source1" />
                        <Edge From="1" To="46" Label="Source1" />
                        <Edge From="1" To="48" Label="Source1" />
                        <Edge From="1" To="51" Label="Source1" />
                        <Edge From="1" To="54" Label="Source1" />
                        <Edge From="2" To="30" Label="Source1" />
                        <Edge From="3" To="19" Label="Source1" />
                        <Edge From="4" To="21" Label="Source2" />
                        <Edge From="5" To="23" Label="Source2" />
                        <Edge From="6" To="25" Label="Source2" />
                        <Edge From="7" To="27" Label="Source2" />
                        <Edge From="8" To="29" Label="Source2" />
                        <Edge From="9" To="32" Label="Source2" />
                        <Edge From="10" To="34" Label="Source2" />
                        <Edge From="11" To="36" Label="Source2" />
                        <Edge From="12" To="39" Label="Source2" />
                        <Edge From="13" To="41" Label="Source2" />
                        <Edge From="14" To="43" Label="Source2" />
                        <Edge From="15" To="45" Label="Source2" />
                        <Edge From="16" To="47" Label="Source2" />
                        <Edge From="17" To="49" Label="Source2" />
                        <Edge From="18" To="19" Label="Source2" />
                        <Edge From="19" To="30" Label="Source2" />
                        <Edge From="20" To="21" Label="Source1" />
                        <Edge From="21" To="30" Label="Source3" />
                        <Edge From="22" To="23" Label="Source1" />
                        <Edge From="23" To="30" Label="Source4" />
                        <Edge From="24" To="25" Label="Source1" />
                        <Edge From="25" To="30" Label="Source5" />
                        <Edge From="26" To="27" Label="Source1" />
                        <Edge From="27" To="30" Label="Source6" />
                        <Edge From="28" To="29" Label="Source1" />
                        <Edge From="29" To="30" Label="Source7" />
                        <Edge From="30" To="58" Label="Source1" />
                        <Edge From="31" To="32" Label="Source1" />
                        <Edge From="32" To="37" Label="Source1" />
                        <Edge From="33" To="34" Label="Source1" />
                        <Edge From="34" To="37" Label="Source2" />
                        <Edge From="35" To="36" Label="Source1" />
                        <Edge From="36" To="37" Label="Source3" />
                        <Edge From="37" To="58" Label="Source2" />
                        <Edge From="38" To="39" Label="Source1" />
                        <Edge From="39" To="50" Label="Source1" />
                        <Edge From="40" To="41" Label="Source1" />
                        <Edge From="41" To="50" Label="Source2" />
                        <Edge From="42" To="43" Label="Source1" />
                        <Edge From="43" To="50" Label="Source3" />
                        <Edge From="44" To="45" Label="Source1" />
                        <Edge From="45" To="50" Label="Source4" />
                        <Edge From="46" To="47" Label="Source1" />
                        <Edge From="47" To="50" Label="Source5" />
                        <Edge From="48" To="49" Label="Source1" />
                        <Edge From="49" To="50" Label="Source6" />
                        <Edge From="50" To="58" Label="Source3" />
                        <Edge From="51" To="53" Label="Source1" />
                        <Edge From="52" To="53" Label="Source2" />
                        <Edge From="53" To="57" Label="Source1" />
                        <Edge From="54" To="56" Label="Source1" />
                        <Edge From="55" To="56" Label="Source2" />
                        <Edge From="56" To="57" Label="Source2" />
                        <Edge From="57" To="58" Label="Source4" />
                        <Edge From="58" To="59" Label="Source1" />
                        <Edge From="59" To="60" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>TrialParams</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="5" Label="Source1" />
                  <Edge From="1" To="5" Label="Source2" />
                  <Edge From="2" To="5" Label="Source3" />
                  <Edge From="3" To="5" Label="Source4" />
                  <Edge From="4" To="5" Label="Source5" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>InitialiseEvents</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="StringProperty" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>Events</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrialResults</Name>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>PhotodiodeLogging</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>PDandAsync</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Timestamp" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Timestamp.TimeOfDay.TotalMilliseconds</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(Item1.Item1 as Photodiode, Item1.Item2 as AsyncPulse, Item2 as BonsaiTime)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>PDLog</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="1" To="3" Label="Source1" />
            <Edge From="2" To="3" Label="Source2" />
            <Edge From="2" To="5" Label="Source2" />
            <Edge From="2" To="7" Label="Source2" />
            <Edge From="2" To="9" Label="Source2" />
            <Edge From="2" To="11" Label="Source2" />
            <Edge From="2" To="13" Label="Source2" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Video</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:CameraCapture">
                <cv:Index>0</cv:Index>
                <cv:CaptureProperties>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Fps</cv:Property>
                    <cv:Value>30</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Saturation</cv:Property>
                    <cv:Value>0</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Exposure</cv:Property>
                    <cv:Value>-8</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Gain</cv:Property>
                    <cv:Value>0</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Contrast</cv:Property>
                    <cv:Value>100</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Brightness</cv:Property>
                    <cv:Value>0</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Sharpness</cv:Property>
                    <cv:Value>0</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Gamma</cv:Property>
                    <cv:Value>0</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>Backlight</cv:Property>
                    <cv:Value>0</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>FrameWidth</cv:Property>
                    <cv:Value>2560</cv:Value>
                  </cv:CapturePropertyAssignment>
                  <cv:CapturePropertyAssignment>
                    <cv:Property>FrameHeight</cv:Property>
                    <cv:Value>1440</cv:Value>
                  </cv:CapturePropertyAssignment>
                </cv:CaptureProperties>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:Flip">
                <cv:Mode>Both</cv:Mode>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:ElementIndex" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Index</Selector>
            </Expression>
            <Expression xsi:type="MulticastSubject">
              <Name>VideoFrameCount</Name>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="MemberSelector">
                <Selector>Width</Selector>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="MemberSelector">
                <Selector>Height</Selector>
              </Builder>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="Combinator">
                <Combinator xsi:type="rx:TimeInterval" />
              </Builder>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:Crop">
                <cv:RegionOfInterest>
                  <cv:X>496</cv:X>
                  <cv:Y>0</cv:Y>
                  <cv:Width>552</cv:Width>
                  <cv:Height>330</cv:Height>
                </cv:RegionOfInterest>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:Crop">
                <cv:RegionOfInterest>
                  <cv:X>1960</cv:X>
                  <cv:Y>72</cv:Y>
                  <cv:Width>64</cv:Width>
                  <cv:Height>66</cv:Height>
                </cv:RegionOfInterest>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:Grayscale" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="dsp:Sum" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Val0</Selector>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>VideoLEDAsync</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>FilenamePrefix</Name>
            </Expression>
            <Expression xsi:type="Format">
              <Format>{0}_video.avi</Format>
              <Selector>it</Selector>
            </Expression>
            <Expression xsi:type="PropertyMapping">
              <PropertyMappings>
                <Property Name="FileName" />
              </PropertyMappings>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="cv:VideoWriter">
                <cv:FileName>test_SDTrainingEphys_video.avi</cv:FileName>
                <cv:Suffix>Timestamp</cv:Suffix>
                <cv:Buffered>true</cv:Buffered>
                <cv:Overwrite>false</cv:Overwrite>
                <cv:FourCC>FMP4</cv:FourCC>
                <cv:FrameRate>30</cv:FrameRate>
                <cv:FrameSize>
                  <cv:Width>0</cv:Width>
                  <cv:Height>0</cv:Height>
                </cv:FrameSize>
                <cv:ResizeInterpolation>NearestNeighbor</cv:ResizeInterpolation>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="wie:KeyDown">
                <wie:Filter>MButton Back Clear D H L Shift</wie:Filter>
                <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:SubscribeWhen" />
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="Combinator">
                <Combinator xsi:type="ffmpeg:VideoWriter">
                  <ffmpeg:FileName>eddTest_SDTraining_video.avi</ffmpeg:FileName>
                  <ffmpeg:Suffix>Timestamp</ffmpeg:Suffix>
                  <ffmpeg:Overwrite>false</ffmpeg:Overwrite>
                  <ffmpeg:FrameRate>30</ffmpeg:FrameRate>
                  <ffmpeg:OutputArguments>-vb 15M -vcodec mpeg4</ffmpeg:OutputArguments>
                </Combinator>
              </Builder>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="0" To="17" Label="Source1" />
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="1" To="5" Label="Source1" />
            <Edge From="1" To="6" Label="Source1" />
            <Edge From="1" To="7" Label="Source1" />
            <Edge From="1" To="8" Label="Source1" />
            <Edge From="1" To="9" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="15" To="16" Label="Source1" />
            <Edge From="16" To="17" Label="Source2" />
            <Edge From="16" To="20" Label="Source2" />
            <Edge From="17" To="19" Label="Source1" />
            <Edge From="18" To="19" Label="Source2" />
            <Edge From="19" To="20" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="wie:KeyDown">
          <wie:Filter>LButton MButton XButton1 Back Tab Clear Return Enter A D E H I L M Shift</wie:Filter>
          <wie:SuppressRepetitions>true</wie:SuppressRepetitions>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:SubscribeWhen" />
      </Expression>
      <Expression xsi:type="SubscribeSubject">
        <Name>Draw3DStim</Name>
      </Expression>
      <Expression xsi:type="SubscribeSubject">
        <Name>QuadState</Name>
      </Expression>
      <Expression xsi:type="PropertyMapping">
        <PropertyMappings>
          <Property Name="Ambient" />
        </PropertyMappings>
      </Expression>
      <Expression xsi:type="IncludeWorkflow" Path="BonVision:Primitives.DrawModel.bonsai">
        <TranslationX>-28</TranslationX>
        <TranslationY>-16</TranslationY>
        <TranslationZ>-102</TranslationZ>
        <ScaleX>10</ScaleX>
        <ScaleY>10</ScaleY>
        <ScaleZ>40</ScaleZ>
        <MeshName>cube3d</MeshName>
        <Ambient>
          <X>0</X>
          <Y>0</Y>
          <Z>0</Z>
        </Ambient>
        <Diffuse>
          <X>0</X>
          <Y>0</Y>
          <Z>0</Z>
        </Diffuse>
        <Specular>
          <X>0</X>
          <Y>0</Y>
          <Z>0</Z>
        </Specular>
        <SpecularExponent>0</SpecularExponent>
        <RotationZ>-71.16279</RotationZ>
        <RotationY>175.813965</RotationY>
        <RotationX>-8.372093</RotationX>
      </Expression>
      <Expression xsi:type="ExternalizedMapping">
        <Property Name="FileName" Category="StimControl" />
        <Property Name="UpdateProbabilityDistsBool" Category="StimControl" />
        <Property Name="scalingFactor" Category="StimControl" />
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>AdaptiveStimControl</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="FileName" Category="StimControl" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>GenStimProbDists</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="FileName" />
                  </Expression>
                  <Expression xsi:type="io:CsvReader">
                    <io:FileName>DotCorr_PassiveSpeedDiff_spec.csv</io:FileName>
                    <io:ScanPattern>%f,%f,%f</io:ScanPattern>
                    <io:SkipRows>1</io:SkipRows>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToArray" />
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>StimulusValues</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToArray" />
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ProbDist1</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item3</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToArray" />
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ProbDist2</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT1S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToList" />
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:ToArray" />
                    </Builder>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>ProbDistArray</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Count</Selector>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MemberSelector">
                      <Selector>Length</Selector>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>nStates</Name>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>initCountersSub</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>OriginalProbDistArray</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Length</Selector>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>nStim</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="1" To="5" Label="Source1" />
                  <Edge From="1" To="8" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="12" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="10" To="22" Label="Source1" />
                  <Edge From="11" To="12" Label="Source2" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="14" To="21" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="20" Label="Source1" />
                  <Edge From="22" To="23" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>InitTrialCounters</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Take">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>nStim</Name>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Count" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:RepeatCount">
                      <rx:Count>19</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToArray" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>nStates</Name>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Count" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:RepeatCount">
                      <rx:Count>2</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:ToList" />
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="rx:ToArray" />
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MemberSelector">
                      <Selector>Count</Selector>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>TrialCounters</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>initCountersSub</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>0</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>MonitorTrialCountsSub</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:SubscribeWhen" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="4" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="8" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="14" Label="Source1" />
                  <Edge From="12" To="18" Label="Source3" />
                  <Edge From="13" To="14" Label="Source2" />
                  <Edge From="13" To="21" Label="Source2" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="16" To="18" Label="Source2" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="20" Label="Source1" />
                  <Edge From="20" To="21" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="UpdateProbabilityDistsBool" Category="StimControl" />
              <Property Name="scalingFactor" Category="StimControl" />
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>UpdateProbabilityDists</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>OriginalProbDistArray</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrialCounters</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Skip">
                      <rx:Count>1</rx:Count>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="scalingFactor" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p1:UpdateProbDistArray">
                      <p1:scalingFactor>1E+21</p1:scalingFactor>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>UpdateProbDistsBool</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>ProbDistArray</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="UpdateProbabilityDistsBool" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>true</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>UpdateProbDistsBool</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="2" Label="Source2" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Disable">
              <Builder xsi:type="GroupWorkflow">
                <Name>SimulateState</Name>
                <Workflow>
                  <Nodes>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="rx:Timer">
                          <rx:DueTime>PT0S</rx:DueTime>
                          <rx:Period>PT2S</rx:Period>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="num:CreateRandom">
                          <num:Seed xsi:nil="true" />
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="p2:CreateNormal">
                          <p2:Mean>0</p2:Mean>
                          <p2:StdDev>4</p2:StdDev>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="p2:Sample" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="scr:ExpressionTransform">
                        <scr:Expression>it &lt; 0 ? 0 :
1
</scr:Expression>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="rx:BehaviorSubject">
                        <Name>CurrentState</Name>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="WorkflowOutput" />
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="ExternalizedMapping">
                        <Property Name="Value" DisplayName="CurrentState" />
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="Combinator">
                        <Combinator xsi:type="IntProperty">
                          <Value>2</Value>
                        </Combinator>
                      </Builder>
                    </Expression>
                    <Expression xsi:type="Disable">
                      <Builder xsi:type="rx:BehaviorSubject">
                        <Name>CurrentState</Name>
                      </Builder>
                    </Expression>
                  </Nodes>
                  <Edges>
                    <Edge From="0" To="1" Label="Source1" />
                    <Edge From="1" To="2" Label="Source1" />
                    <Edge From="2" To="3" Label="Source1" />
                    <Edge From="3" To="4" Label="Source1" />
                    <Edge From="4" To="5" Label="Source1" />
                    <Edge From="5" To="6" Label="Source1" />
                    <Edge From="7" To="8" Label="Source1" />
                    <Edge From="8" To="9" Label="Source1" />
                  </Edges>
                </Workflow>
              </Builder>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>MonitorTrialCounts</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>InitBarGraph</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timer">
                            <rx:DueTime>PT0S</rx:DueTime>
                            <rx:Period>PT0.1S</rx:Period>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>1</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:Accumulate" />
                        <Expression xsi:type="SubscribeSubject">
                          <Name>nStim</Name>
                        </Expression>
                        <Expression xsi:type="Subtract">
                          <Operand xsi:type="IntProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Count" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>18</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Timer">
                            <rx:DueTime>PT0S</rx:DueTime>
                            <rx:Period>PT0.001S</rx:Period>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>0</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>nStim</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Count" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>19</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="8" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="7" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source2" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="14" Label="Source2" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="13" Label="Source1" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source2" />
                        <Edge From="13" To="14" Label="Source1" />
                        <Edge From="14" To="15" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>MonitorTrialCountsSub</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>State1?</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Item1</Selector>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="IntProperty">
                            <Value>1</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item3[Item1][Item2]</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>State0?</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Item1</Selector>
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="IntProperty">
                            <Value>0</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>Item3[Item1][Item2]</scr:Expression>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:CombineLatest" />
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1</Selector>
                  </Expression>
                  <Expression xsi:type="viz:BarGraphBuilder">
                    <viz:IndexSelector>Item2</viz:IndexSelector>
                    <viz:ValueSelector>Item1</viz:ValueSelector>
                    <viz:BaseAxis>X</viz:BaseAxis>
                    <viz:BarType>Cluster</viz:BarType>
                    <viz:Capacity xsi:nil="true" />
                    <viz:Min xsi:nil="true" />
                    <viz:Max xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="viz:BarGraphBuilder">
                    <viz:IndexSelector>Item2</viz:IndexSelector>
                    <viz:ValueSelector>Item1</viz:ValueSelector>
                    <viz:BaseAxis>X</viz:BaseAxis>
                    <viz:BarType>Cluster</viz:BarType>
                    <viz:Capacity xsi:nil="true" />
                    <viz:Min xsi:nil="true" />
                    <viz:Max xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>MovMeanWheelSpeed</Name>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CurrentState</Name>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="viz:TableLayoutPanelBuilder">
                    <viz:ColumnCount>2</viz:ColumnCount>
                    <viz:RowCount>2</viz:RowCount>
                    <viz:ColumnStyles />
                    <viz:RowStyles />
                    <viz:CellSpans />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="10" Label="Source2" />
                  <Edge From="0" To="11" Label="Source2" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="1" To="6" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="11" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="9" Label="Source1" />
                  <Edge From="8" To="9" Label="Source2" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="12" Label="Source1" />
                  <Edge From="11" To="12" Label="Source2" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="12" To="16" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="23" Label="Source1" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source1" />
                  <Edge From="18" To="23" Label="Source2" />
                  <Edge From="19" To="20" Label="Source1" />
                  <Edge From="20" To="23" Label="Source3" />
                  <Edge From="21" To="22" Label="Source1" />
                  <Edge From="22" To="23" Label="Source4" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="1" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>CalcWheelSpeed</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="SubscribeSubject">
              <Name>WheelInput</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ArduinoTime</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Item1</Selector>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>Convert.ToSingle(it)</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="dsp:Difference">
                <dsp:Order>1</dsp:Order>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="num:Abs" />
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Name>IgnoreOverflowTicks</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="dsp:Abs" />
                  </Expression>
                  <Expression xsi:type="LessThan">
                    <Operand xsi:type="DoubleProperty">
                      <Value>512</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>cmPerTick</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Multiply" />
            <Expression xsi:type="MemberSelector">
              <Selector>Item2</Selector>
            </Expression>
            <Expression xsi:type="scr:ExpressionTransform">
              <scr:Expression>Convert.ToSingle(it)</scr:Expression>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="dsp:Difference">
                <dsp:Order>1</dsp:Order>
              </Combinator>
            </Expression>
            <Expression xsi:type="Divide">
              <Operand xsi:type="DoubleProperty">
                <Value>1000</Value>
              </Operand>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Zip" />
            </Expression>
            <Expression xsi:type="Divide" />
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>RawWheelSpeed</Name>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="TimeSpan" DisplayName="RunningAverageTimeWindow" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:WindowTime">
                <rx:TimeSpan>PT0.05S</rx:TimeSpan>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:SelectMany">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Average" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Retry" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>MovMeanWheelSpeed</Name>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="GreaterThan">
                    <Operand xsi:type="DoubleProperty">
                      <Value>3</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>1</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="rx:Condition">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="LessThanOrEqual">
                    <Operand xsi:type="DoubleProperty">
                      <Value>3</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="IntProperty">
                <Value>0</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:Merge" />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>CurrentState</Name>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="TicksPerRev" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>4096</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="Value" DisplayName="WheelDiam" />
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>19.5</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="FloatProperty">
                <Value>3.14159274</Value>
              </Combinator>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Multiply" />
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>WheelCircumference</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:CombineLatest" />
            </Expression>
            <Expression xsi:type="Divide" />
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>cmPerTick</Name>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="0" To="2" Label="Source1" />
            <Edge From="1" To="2" Label="Source2" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="2" To="11" Label="Source1" />
            <Edge From="3" To="4" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="9" Label="Source1" />
            <Edge From="8" To="9" Label="Source2" />
            <Edge From="9" To="10" Label="Source1" />
            <Edge From="10" To="15" Label="Source1" />
            <Edge From="11" To="12" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="13" To="14" Label="Source1" />
            <Edge From="14" To="15" Label="Source2" />
            <Edge From="15" To="16" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="17" To="19" Label="Source1" />
            <Edge From="18" To="19" Label="Source2" />
            <Edge From="19" To="20" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="22" To="23" Label="Source1" />
            <Edge From="22" To="25" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="24" To="27" Label="Source1" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="26" To="27" Label="Source2" />
            <Edge From="27" To="28" Label="Source1" />
            <Edge From="29" To="30" Label="Source1" />
            <Edge From="30" To="37" Label="Source2" />
            <Edge From="31" To="32" Label="Source1" />
            <Edge From="32" To="34" Label="Source1" />
            <Edge From="33" To="34" Label="Source2" />
            <Edge From="34" To="35" Label="Source1" />
            <Edge From="35" To="36" Label="Source1" />
            <Edge From="36" To="37" Label="Source1" />
            <Edge From="37" To="38" Label="Source1" />
            <Edge From="38" To="39" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:DelaySubscription">
          <rx:DueTime>PT1S</rx:DueTime>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="wie:KeyDown">
          <wie:Filter>LButton RButton Cancel ShiftKey ControlKey Menu Pause A B C P Q R S Shift</wie:Filter>
          <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="IntProperty">
          <Value>0</Value>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="wie:KeyDown">
          <wie:Filter>ShiftKey P Shift</wie:Filter>
          <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="IntProperty">
          <Value>1</Value>
        </Combinator>
      </Expression>
      <Expression xsi:type="Combinator">
        <Combinator xsi:type="rx:Merge" />
      </Expression>
      <Expression xsi:type="rx:BehaviorSubject">
        <Name>PauseFlag</Name>
      </Expression>
    </Nodes>
    <Edges>
      <Edge From="1" To="4" Label="Source1" />
      <Edge From="1" To="6" Label="Source1" />
      <Edge From="2" To="6" Label="Source2" />
      <Edge From="3" To="4" Label="Source2" />
      <Edge From="4" To="5" Label="Source1" />
      <Edge From="8" To="9" Label="Source1" />
      <Edge From="12" To="14" Label="Source1" />
      <Edge From="13" To="14" Label="Source2" />
      <Edge From="15" To="18" Label="Source1" />
      <Edge From="16" To="17" Label="Source1" />
      <Edge From="17" To="18" Label="Source2" />
      <Edge From="19" To="20" Label="Source1" />
      <Edge From="21" To="22" Label="Source1" />
      <Edge From="23" To="24" Label="Source1" />
      <Edge From="24" To="27" Label="Source1" />
      <Edge From="25" To="26" Label="Source1" />
      <Edge From="26" To="27" Label="Source2" />
      <Edge From="27" To="28" Label="Source1" />
    </Edges>
  </Workflow>
</WorkflowBuilder>